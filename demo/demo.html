<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>SEO Javascript Test</title>

  <style type="text/css"></style>
    <script type="text/javascript">
        var TestController = (function () {
            function TestController() {
                this.items = [];
                this.name = null;
                this.age = null;
            }

            TestController.prototype.reset = function () {
                this.name = '';
                this.age = '';
            };

            TestController.prototype.add = function () {
                this.items.push(new TestItem(this.name, this.age));
                console.log(this.items, this['$scope'].wrapped);
                window['controller'] = this['$scope'].wrapped;
                this.reset();
            };

            return TestController;
        }());

        var TestItem = (function () {
            function TestItem(name = null, age = null) {
                this.name = name;
                this.age = age;
            }

            TestItem.prototype.reset = function () {
                this.name = '';
                this.age = '';
            };
            return TestItem;
        }());

        var Controller = (function () {
            function Controller() {
                this.on = false;
            }

            Controller.prototype.doSomething = function ($event, value) {
                $event.preventDefault();
                this.on = value;
            };
            return Controller;
        }());
    </script>
</head>
<body>
    <h2>On Click</h2>
    <button vsn-click="show = !show" vsn-set:show="false|boolean">Toggle</button>
    <span vsn-bind="show"></span>

    <h2>Attribute Binding</h2>
    <a href="/index.html" id="link">Home</a>
    <input type="text" vsn-bind="#link.@text" />
    <input type="text" vsn-bind="#link.@href" />

    <h2>Conditional Elements</h2>
    <button vsn-click="show = !show">Toggle</button>
    <span vsn-if="show">Show is true</span>
    <span vsn-if="!show">Show is false</span>

    <h2>Controllers</h2>
    <div vsn-controller:controller="Controller">
        <span vsn-if="controller.on">It's on!</span>
        <span vsn-if="!controller.on">It's off...</span>
        <a href="/" vsn-click="controller.doSomething($event, !controller.on)">Click Me</a>
    </div>

    <h2>Lists</h2>
    <div vsn-controller:test="TestController" id="testing">
        <h3>Value: <span vsn-bind="test.name">Testing</span> <span vsn-bind="test.age">32</span></h3>
        <input type="text" vsn-bind="test.name" />
        <input type="text" vsn-bind="test.age" />
        <button vsn-click="test.reset()" vsn-if="test.name">Reset</button>
        <button vsn-click="test.add();">Add New List Item</button>
        <ul vsn-list:test.items vsn-list-item-model="TestItem" vsn-name="list">
            <li vsn-list-item>
                <span vsn-bind="item.name">Tom</span>, <span vsn-bind="item.age">22</span> Years Old <input type="text" vsn-bind="item.name" /> <input type="text" vsn-bind="item.age" /> <button vsn-click="item.reset()">R</button> <button vsn-click="list.remove(item)">X</button>
            </li>
            <li vsn-list-item>
                <span vsn-bind="item.name">Steve</span>, <span vsn-bind="item.age">46</span> Years Old  <input type="text" vsn-bind="item.name" /> <input type="text" vsn-bind="item.age" /> <button vsn-click="item.reset()">R</button> <button vsn-click="list.remove(item)">X</button>
            </li>
            <li vsn-list-item>
                <span vsn-bind="item.name">Frank</span>, <span vsn-bind="item.age">31</span> Years Old  <input type="text" vsn-bind="item.name" /> <input type="text" vsn-bind="item.age" /> <button vsn-click="item.reset()">R</button> <button vsn-click="list.remove(item)">X</button>
            </li>
            <li vsn-list-item>
                <span vsn-bind="item.name">Joe</span>, <span vsn-bind="item.age">91</span> Years Old  <input type="text" vsn-bind="item.name" /> <input type="text" vsn-bind="item.age" /> <button vsn-click="item.reset()">R</button> <button vsn-click="list.remove(item)">X</button>
            </li>
        </ul>
    </div>

    <script type="text/javascript" src="vision.js"></script>
    <script type="text/javascript">
        window.addEventListener('load', function () {
            vision.registerClass(TestController, 'TestController');
            vision.registerClass(TestItem, 'TestItem');
            vision.registerClass(Controller, 'Controller');
        });
    </script>
</body>
</html>
