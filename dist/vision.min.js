(()=>{"use strict";var t={8294:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n,r){this.fnc=t,this.key=e,this.once=n,this.context=r,this.calls=0}return t.prototype.call=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!(this.once&&this.calls>0||((t=this.fnc).apply.apply(t,[this.context].concat(e)),this.calls+=1,0))},t}();e.EventCallback=n;var r=function(){function t(){this._lastKey=0,this._listeners={}}return t.prototype.bind=function(t,e,r,o){return o=o||!1,this._lastKey++,this._listeners[t]=this._listeners[t]||[],this._listeners[t].push(new n(e,this._lastKey,o,r)),this._lastKey},t.prototype.once=function(t,e,n){return this.bind(t,e,n,!0)},t.prototype.unbind=function(t,e){if(t in this._listeners==0)return!1;if(!e)return this._listeners[t]=[],!0;for(var n=0,r=this._listeners[t];n<r.length;n++){var o=r[n];if(e==o.key)return this._listeners[t].splice(this._listeners[t].indexOf(o),1),!0}return!1},t.prototype.unbindWithContext=function(t,e){if(t in this._listeners==0)return 0;for(var n=[],r=0,o=0,i=this._listeners[t];o<i.length;o++)e==(u=i[o]).context&&n.push(u);for(var s=0,a=n;s<a.length;s++){var u=a[s];this._listeners[t].splice(this._listeners[t].indexOf(u),1),r++}return r},t.prototype.getListener=function(t,e){for(var n=0,r=this._listeners[t];n<r.length;n++){var o=r[n];if(e==o.key)return o}},t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(t in this._listeners!=0)for(var r=0;r<this._listeners[t].length;r++){var o=this._listeners[t][r];o.once&&(this.unbind(t,o.key),r--),o.call(e)}},t}();e.EventDispatcher=r},9959:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.reset(),t&&this.merge(t)}return t.prototype.reset=function(){var t=this.keys;if(this._cachedList=void 0,t.length>0)for(var e=0,n=t;e<n.length;e++)delete this[n[e]]},t.prototype.add=function(t,e,n){var r;void 0===n&&(n=!1),this.merge(((r={})[t]="string"==typeof e?[e]:e,r),n)},t.prototype.merge=function(t,e){var n=this;if(void 0===e&&(e=!1),t){this._cachedList=void 0;var r=this.keys,o=function(o){if(!t.hasOwnProperty(o))return"continue";var s=t[o];s instanceof Array&&(!e&&r.indexOf(o)>-1?s.map((function(t){n[o].push(t)})):s.length>0&&(i[o]=s))},i=this;for(var s in t)o(s)}},Object.defineProperty(t.prototype,"list",{get:function(){if(this._cachedList)return this._cachedList;for(var t={},e=0,n=this.keys;e<n.length;e++){var r=n[e];t[r]=this[r]}return this._cachedList=t,t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keys",{get:function(){var t=Object.keys(this);return t.splice(t.indexOf("_cachedList"),1),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.keys.length},enumerable:!1,configurable:!0}),t}();e.default=n},9072:function(t,e){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Collection=void 0;var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getData=function(){for(var t=[],n=0,r=e;n<r.length;n++){var o=r[n];t.push(o.getData())}return t},e}return r(e,t),e}(Array);e.Collection=o},6297:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DataModel=void 0;var i=function(t){function e(e){var n=t.call(this)||this;if(e instanceof Array){n.__fields__=e;for(var r=0,o=e;r<o.length;r++){var i=o[r];n.createField(i)}}else n.setData(e);return n}return o(e,t),e.prototype.setData=function(e){for(var n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];-1==this.__fields__.indexOf(o)&&(this.__fields__.push(o),this.createField(o))}t.prototype.setData.call(this,e)},e.prototype.bind=function(e,n,r,o){return 0==e.indexOf("change:")&&this.createField(e.substr(7)),t.prototype.bind.call(this,e,n,r,o)},e}(n(6412).ModelAbstract);e.DataModel=i},9143:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Model=void 0;var i=n(9959),s=function(t){function e(e){void 0===e&&(e=null);for(var n=t.call(this)||this,r=0,o=n.__fields__.splice(0,n.__fields__.length);r<o.length;r++)!function(t,e){if(t["__"+e+"__"]){t.__fields__.push(e);var n=t["__"+e+"__"],r=n[0],o=n[1]||{};t.createField(e,r,o)}}(n,o[r]);return n._hasErrors=!1,e&&n.setData(e),n._lastData=n.getData(),n._constructor(),n}return o(e,t),e.prototype._constructor=function(){},e.prototype.validate=function(){this._hasErrors=!1,this._errors=new i.default;for(var t=0,e=this.getFields();t<e.length;t++){var n=e[t],r=this["__"+n].validate();r.length>0&&(this._errors.add(n,r,!0),this._hasErrors=!0)}return this._errors},e.prototype.hasErrors=function(){return this.validate(),this._hasErrors},Object.defineProperty(e.prototype,"errors",{get:function(){return this._errors},enumerable:!1,configurable:!0}),e}(n(6412).ModelAbstract);e.Model=s},6412:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.ModelAbstract=void 0;var s=n(8294),a=n(8420),u=function(t){function e(){var e=t.call(this)||this;return e.__fields__||(e.__fields__=[]),e}return o(e,t),e.prototype.createField=function(t,e,n){var r=this;void 0===e&&(e=a.Field);var o=new e(this,(n=n||{}).default,n),s=Object.getOwnPropertyDescriptor(this,t);this["__"+t]=o;var u=s?s.get:function(){return o.value},c=s?s.set:function(t){o.value=t};return delete this[t],Object.defineProperty(this,t,{get:u,set:c,enumerable:!0,configurable:!0}),o.bind("change",(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];r.trigger.apply(r,i(["change",t],e)),r.trigger.apply(r,i(["change:"+t],e))})),o},e.prototype.setData=function(t){var e=this.getFields();for(var n in t)e.indexOf(n)>-1&&(this[n]=t[n])},e.prototype.getData=function(){for(var t={},e=0,n=this.getFields();e<n.length;e++){var r=n[e],o=this["__"+r];null!=this[r]&&o&&(t[r]=o.getData())}return t},e.prototype.getFields=function(){return this.__fields__},e.prototype.getField=function(t){return this["__"+t]},e.prototype.bindToFields=function(t,e,n){for(var r=0,o=e;r<o.length;r++){var i=this["__"+o[r]];i&&i.bind(t,n)}},e.prototype.setLastData=function(){this._lastData=this.getData()},e.prototype.revert=function(){this.setData(this._lastData)},e.prototype.isModified=function(){for(var t=this._lastData,e=this.getData(),n=0,r=this.getFields();n<r.length;n++){var o=r[n];if(e[o]!=t[o])return!0}return!1},e}(s.EventDispatcher);e.ModelAbstract=u},1624:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BooleanField=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){var e=this.value;this._value=!!t,this.trigger("change",{oldValue:e,value:t})},enumerable:!1,configurable:!0}),e}(n(8420).Field);e.BooleanField=i},8014:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.EmailField=void 0;var i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._emailRegex=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,e}return o(e,t),e.prototype.validate=function(){return t.prototype.validate.call(this),null==this._value||this._emailRegex.test(this._value)||this._errors.push("Please enter a valid email address"),this._errors},e}(n(8420).Field);e.EmailField=i},8420:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Field=e.field=void 0;var i=n(8294);e.field=function(t,e){return void 0===t&&(t=s),void 0===e&&(e={}),function(n,r){null==n.__fields__&&(n.__fields__=[]),-1==n.__fields__.indexOf(r)&&n.__fields__.push(r),Object.defineProperty(n,"__"+r+"__",{get:function(){return[t,e]},set:function(t){},enumerable:!1,configurable:!0})}};var s=function(t){function e(e,n,r){var o=t.call(this)||this;return o.model=e,o.config=r,o.value=n,o._errors=[],o}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){var e=this._value;this._value=t,this.trigger("change",{oldValue:e,value:t})},enumerable:!1,configurable:!0}),e.prototype.getData=function(){return this.value},e.prototype.validate=function(){return this._errors=[],1==this.config.required&&null==this._value&&this._errors.push("This field is required."),this._errors},e}(i.EventDispatcher);e.Field=s},2030:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.FloatField=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){var e=this.value;"string"==typeof t&&(t=parseFloat(t)),"number"==typeof t&&this.config.toFixed&&(t=parseFloat(t.toFixed(this.config.toFixed))),this._value=t,this.trigger("change",{oldValue:e,value:t})},enumerable:!1,configurable:!0}),e}(n(8420).Field);e.FloatField=i},3985:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PositiveIntegerField=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){var e=this.value;null!=t?("string"==typeof t&&(t=parseInt(t)),t<=0&&(t=0),this._value=t,this.trigger("change",{oldValue:e,value:t})):this._value=null},enumerable:!1,configurable:!0}),e}(n(8420).Field);e.PositiveIntegerField=i},2956:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.StringField=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){var e=this.value;this._value=""+t,this.trigger("change",{oldValue:e,value:t})},enumerable:!1,configurable:!0}),e}(n(8420).Field);e.StringField=i},6586:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fields=e.field=e.Collection=e.Model=e.DataModel=void 0;var r=n(8420);Object.defineProperty(e,"field",{enumerable:!0,get:function(){return r.field}});var o=n(1624),i=n(8014),s=n(2030),a=n(3985),u=n(2956),c=n(6297);Object.defineProperty(e,"DataModel",{enumerable:!0,get:function(){return c.DataModel}});var l=n(9143);Object.defineProperty(e,"Model",{enumerable:!0,get:function(){return l.Model}});var p=n(9072);Object.defineProperty(e,"Collection",{enumerable:!0,get:function(){return p.Collection}});var f={Field:r.Field,BooleanField:o.BooleanField,EmailField:i.EmailField,FloatField:s.FloatField,PositiveIntegerField:a.PositiveIntegerField,StringField:u.StringField};e.fields=f},8513:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Promise=e.noop=e.EPromiseStates=void 0;var i,s=n(8294);!function(t){t[t.PENDING=0]="PENDING",t[t.FULFILLED=1]="FULFILLED",t[t.REJECTED=2]="REJECTED"}(i=e.EPromiseStates||(e.EPromiseStates={})),e.noop=function(t){return t};var a=function(t){function e(e){var n=t.call(this)||this;n._result=null,n._state=i.PENDING,n.promiseClass=Object.getPrototypeOf(n).constructor;try{e(n._resolve.bind(n),n._reject.bind(n))}catch(t){n._reject(t)}return n}return o(e,t),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!1,configurable:!0}),e.defer=function(){var t=new e((function(t,e){}));return{promise:t,resolve:t._resolve.bind(t),reject:t._reject.bind(t)}},e.resolve=function(t){return new e((function(n){t instanceof e?t.then((function(t){n(t)})):n(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.all=function(t){for(var n=e.defer(),r=!0,o=0,s=t;o<s.length;o++){var a=s[o];if(a.state==i.PENDING)r=!1,a.once("fulfilled",(function(r){e.poolResults(t,n)})),a.once("rejected",(function(t){n.reject(t)}));else if(a.state==i.REJECTED){n.reject(a.result),r=!1;break}}return r&&e.poolResults(t,n),n.promise},e.poolResults=function(t,e){for(var n=!0,r=[],o=0,s=t;o<s.length;o++){var a=s[o];if(a.state===i.REJECTED){e.reject(a.result);break}a.state===i.PENDING&&(n=!1),r.push(a.result)}n&&e.resolve(r)},e.race=function(t){for(var n=e.defer(),r=0,o=t;r<o.length;r++){var i=o[r];i.once("fulfilled",(function(t){n.resolve(t)})),i.once("rejected",(function(t){n.reject(t)}))}return n.promise},e.prototype.then=function(t,e){var n=this;return new this.promiseClass((function(r,o){n.state===i.FULFILLED?t&&r(t(n.result)):n.state===i.REJECTED?e&&o(e(n.result)):(n.once("fulfilled",(function(e){t&&r(t(e))})),n.once("rejected",(function(t){e&&o(e(t))})))}))},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.finally=function(t){return this.then((function(e){return t(e)}),(function(e){return t(e)}))},e.prototype._resolve=function(t){this.state===i.PENDING&&(this._state=i.FULFILLED,this._result=t,this.trigger("fulfilled",t))},e.prototype._reject=function(t){this.state===i.PENDING&&(this._state=i.REJECTED,this._result=t,this.trigger("rejected",t))},e}(s.EventDispatcher);e.Promise=a},7754:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},u=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.Tree=e.AttributableNodes=e.BlockNode=e.Node=e.TokenType=e.BlockType=void 0;var c,l,p=n(4843),f=n(712),h=n(44);!function(t){t[t.BRACE=0]="BRACE",t[t.BRACKET=1]="BRACKET",t[t.PAREN=2]="PAREN",t[t.STATEMENT=3]="STATEMENT"}(c=e.BlockType||(e.BlockType={})),function(t){t[t.WHITESPACE=0]="WHITESPACE",t[t.TYPE_INT=1]="TYPE_INT",t[t.TYPE_UINT=2]="TYPE_UINT",t[t.TYPE_FLOAT=3]="TYPE_FLOAT",t[t.TYPE_STRING=4]="TYPE_STRING",t[t.RETURN=5]="RETURN",t[t.OF=6]="OF",t[t.IN=7]="IN",t[t.FOR=8]="FOR",t[t.IF=9]="IF",t[t.ELSE_IF=10]="ELSE_IF",t[t.ELSE=11]="ELSE",t[t.NAME=12]="NAME",t[t.L_BRACE=13]="L_BRACE",t[t.R_BRACE=14]="R_BRACE",t[t.L_BRACKET=15]="L_BRACKET",t[t.R_BRACKET=16]="R_BRACKET",t[t.L_PAREN=17]="L_PAREN",t[t.R_PAREN=18]="R_PAREN",t[t.PERIOD=19]="PERIOD",t[t.COMMA=20]="COMMA",t[t.COLON=21]="COLON",t[t.SEMI_COLON=22]="SEMI_COLON",t[t.STRING_LITERAL=23]="STRING_LITERAL",t[t.NUMBER_LITERAL=24]="NUMBER_LITERAL",t[t.BOOLEAN_LITERAL=25]="BOOLEAN_LITERAL",t[t.NULL_LITERAL=26]="NULL_LITERAL",t[t.STRICT_EQUALS=27]="STRICT_EQUALS",t[t.STRICT_NOT_EQUALS=28]="STRICT_NOT_EQUALS",t[t.EQUALS=29]="EQUALS",t[t.NOT_EQUALS=30]="NOT_EQUALS",t[t.GREATER_THAN_EQUAL=31]="GREATER_THAN_EQUAL",t[t.LESS_THAN_EQUAL=32]="LESS_THAN_EQUAL",t[t.GREATER_THAN=33]="GREATER_THAN",t[t.LESS_THAN=34]="LESS_THAN",t[t.ASSIGN=35]="ASSIGN",t[t.AND=36]="AND",t[t.OR=37]="OR",t[t.ADD=38]="ADD",t[t.SUBTRACT=39]="SUBTRACT",t[t.MULTIPLY=40]="MULTIPLY",t[t.DIVIDE=41]="DIVIDE",t[t.ADD_ASSIGN=42]="ADD_ASSIGN",t[t.SUBTRACT_ASSIGN=43]="SUBTRACT_ASSIGN",t[t.MULTIPLY_ASSIGN=44]="MULTIPLY_ASSIGN",t[t.DIVIDE_ASSIGN=45]="DIVIDE_ASSIGN",t[t.EXCLAMATION_POINT=46]="EXCLAMATION_POINT",t[t.ELEMENT_REFERENCE=47]="ELEMENT_REFERENCE",t[t.ELEMENT_ATTRIBUTE=48]="ELEMENT_ATTRIBUTE",t[t.ELEMENT_QUERY=49]="ELEMENT_QUERY"}(l=e.TokenType||(e.TokenType={}));var d=[{type:l.WHITESPACE,pattern:/^[\s\n\r]+/},{type:l.TYPE_INT,pattern:/^int+/},{type:l.TYPE_UINT,pattern:/^uint+/},{type:l.TYPE_FLOAT,pattern:/^float+/},{type:l.TYPE_STRING,pattern:/^string+/},{type:l.BOOLEAN_LITERAL,pattern:/^(true|false)/},{type:l.NULL_LITERAL,pattern:/^null/},{type:l.RETURN,pattern:/^return\s/},{type:l.OF,pattern:/^of\s/},{type:l.FOR,pattern:/^for\s/},{type:l.IF,pattern:/^if\s/},{type:l.ELSE_IF,pattern:/^else if\s/},{type:l.ELSE,pattern:/^else\s/},{type:l.ELEMENT_ATTRIBUTE,pattern:/^\.@[_a-zA-Z0-9]*/},{type:l.ELEMENT_REFERENCE,pattern:/^#[-_a-zA-Z0-9]*/},{type:l.ELEMENT_QUERY,pattern:/^\?([#.\[\],=\-_a-zA-Z0-9*\s]*[\]_a-zA-Z0-9*])/},{type:l.NAME,pattern:/^[$_a-zA-Z][_a-zA-Z0-9]*/},{type:l.NUMBER_LITERAL,pattern:/^-?\d+(?:\.\d+)?(?:e[+\-]?\d+)?/i},{type:l.L_BRACE,pattern:/^{/},{type:l.R_BRACE,pattern:/^}/},{type:l.L_BRACKET,pattern:/^\[/},{type:l.R_BRACKET,pattern:/^]/},{type:l.L_PAREN,pattern:/^\(/},{type:l.R_PAREN,pattern:/^\)/},{type:l.PERIOD,pattern:/^\./},{type:l.COMMA,pattern:/^,/},{type:l.EQUALS,pattern:/^==/},{type:l.NOT_EQUALS,pattern:/^!=/},{type:l.GREATER_THAN,pattern:/^>/},{type:l.LESS_THAN,pattern:/^</},{type:l.GREATER_THAN_EQUAL,pattern:/^>=/},{type:l.LESS_THAN_EQUAL,pattern:/^<=/},{type:l.COLON,pattern:/^:/},{type:l.SEMI_COLON,pattern:/^;/},{type:l.STRING_LITERAL,pattern:/^"([^"]*)"/},{type:l.STRING_LITERAL,pattern:/^'([^']*)'/},{type:l.AND,pattern:/^&&/},{type:l.OR,pattern:/^\|\|/},{type:l.ADD_ASSIGN,pattern:/^\+=/},{type:l.SUBTRACT_ASSIGN,pattern:/^-=/},{type:l.MULTIPLY_ASSIGN,pattern:/^\*=/},{type:l.DIVIDE_ASSIGN,pattern:/^\/=/},{type:l.ADD,pattern:/^\+/},{type:l.SUBTRACT,pattern:/^-/},{type:l.MULTIPLY,pattern:/^\*/},{type:l.DIVIDE,pattern:/^\//},{type:l.ASSIGN,pattern:/^=/},{type:l.EXCLAMATION_POINT,pattern:/^!/}],y=function(){function t(){this.requiresPrep=!1,this.nodeCache={}}return t.prototype.isPreparationRequired=function(){if(this.requiresPrep)return!0;if(void 0!==this._isPreparationRequired)return this._isPreparationRequired;for(var t=0,e=this.getChildNodes();t<e.length;t++)if(e[t].isPreparationRequired())return this._isPreparationRequired=!0,!0;return!1},t.prototype.prepare=function(t,e){return s(this,void 0,void 0,(function(){var n,r;return a(this,(function(o){switch(o.label){case 0:n=0,r=this.getChildNodes(),o.label=1;case 1:return n<r.length?[4,r[n].prepare(t,e)]:[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},t.prototype._getChildNodes=function(){return[]},t.prototype.getChildNodes=function(){return void 0===this.childNodes&&(this.childNodes=this._getChildNodes()),this.childNodes},t.prototype.findChildrenByType=function(t){return this.findChildrenByTypes([t])},t.prototype.findChildrenByTypes=function(t,e){if(void 0===e&&(e=null),null!==e&&this.nodeCache[e])return this.nodeCache[e];for(var n=[],r=0,o=this.getChildNodes();r<o.length;r++)for(var i=o[r],s=0,a=t;s<a.length;s++){var u=a[s];i instanceof u&&n.push(i);var c=i.findChildrenByType(u);n.push.apply(n,c)}return null!==e&&(this.nodeCache[e]=n),n},t}();e.Node=y;var b=function(t){function e(e){var n=t.call(this)||this;return n.statements=e,n}return o(e,t),e.prototype._getChildNodes=function(){return u([],this.statements)},e.prototype.evaluate=function(t,e){return s(this,void 0,void 0,(function(){var n,r;return a(this,(function(o){switch(o.label){case 0:n=null,r=0,o.label=1;case 1:return r<this.statements.length?[4,this.statements[r].evaluate(t,e)]:[3,4];case 2:n=o.sent(),o.label=3;case 3:return r++,[3,1];case 4:return[2,n]}}))}))},e}(y);e.BlockNode=b;var v=function(t){function e(e,n,r){var o=t.call(this)||this;return o.left=e,o.right=n,o.type=r,o}return o(e,t),e.prototype._getChildNodes=function(){return[this.left,this.right]},e.prototype.evaluate=function(t,e){return s(this,void 0,void 0,(function(){var n,r;return a(this,(function(o){switch(o.label){case 0:return[4,this.left.evaluate(t,e)];case 1:return n=o.sent(),[4,this.right.evaluate(t,e)];case 2:switch(r=o.sent(),this.type){case l.EQUALS:return[2,n===r];case l.NOT_EQUALS:return[2,n!==r];case l.GREATER_THAN:return[2,n>r];case l.LESS_THAN:return[2,n<r];case l.GREATER_THAN_EQUAL:return[2,n>=r];case l.LESS_THAN_EQUAL:return[2,n<=r]}return[2]}}))}))},e.match=function(t){return[l.EQUALS,l.NOT_EQUALS,l.GREATER_THAN,l.LESS_THAN,l.GREATER_THAN_EQUAL,l.LESS_THAN_EQUAL].indexOf(t[0].type)>-1},e.parse=function(t,n,r){return r.splice(0,1),new e(t,I.processTokens(I.getNextStatementTokens(r)),n.type)},e}(y),_=function(t){function e(e,n){var r=t.call(this)||this;return r.condition=e,r.block=n,r}return o(e,t),e.prototype._getChildNodes=function(){return[this.condition,this.block]},e.prototype.evaluate=function(t,e){return s(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,this.condition.evaluate(t,e)];case 1:return n.sent()?[4,this.block.evaluate(t,e)]:[3,3];case 2:return[2,n.sent()];case 3:return[2,null]}}))}))},e}(y),g=function(t){function e(e){var n=t.call(this)||this;return n.nodes=e,n}return o(e,t),e.prototype._getChildNodes=function(){return u([],this.nodes)},e.prototype.evaluate=function(t,e){return s(this,void 0,void 0,(function(){var n,r,o;return a(this,(function(i){switch(i.label){case 0:n=0,r=this.nodes,i.label=1;case 1:return n<r.length?[4,(o=r[n]).condition.evaluate(t,e)]:[3,5];case 2:return i.sent()?[4,o.block.evaluate(t,e)]:[3,4];case 3:return[2,i.sent()];case 4:return n++,[3,1];case 5:return[2]}}))}))},e.parseConditional=function(t){if(-1===[l.IF,l.ELSE_IF].indexOf(t[0].type))throw SyntaxError("Invalid Syntax");return t.splice(0,1),new _(I.processTokens(I.getBlockTokens(t,null)[0]),I.processTokens(I.getBlockTokens(t,null)[0]))},e.parse=function(t,n,r){if(r[1].type!==l.L_PAREN)throw SyntaxError("If statement needs to be followed by a condition encased in parenthesis.");var o=[];for(o.push(e.parseConditional(r));r.length>0&&l.ELSE_IF===r[0].type;)o.push(e.parseConditional(r));return r.length>0&&l.ELSE===r[0].type&&(r.splice(0,1),o.push(new _(new O(!0),I.processTokens(I.getBlockTokens(r,null)[0])))),new e(o)},e}(y),w=function(t){function e(e,n,r){var o=t.call(this)||this;return o.variable=e,o.list=n,o.block=r,o}return o(e,t),e.prototype._getChildNodes=function(){return[this.variable,this.list,this.block]},e.prototype.evaluate=function(t,e){return s(this,void 0,void 0,(function(){var n,r,o;return a(this,(function(i){switch(i.label){case 0:return[4,this.variable.evaluate(t,e)];case 1:return n=i.sent(),[4,this.list.evaluate(t,e)];case 2:r=i.sent(),o=0,i.label=3;case 3:return o<r.length?(t.set(n,r[o]),[4,this.block.evaluate(t,e)]):[3,6];case 4:i.sent(),i.label=5;case 5:return o++,[3,3];case 6:return[2,null]}}))}))},e.parse=function(t,n,r){if(r[1].type!==l.L_PAREN)throw SyntaxError("Syntax error: Missing (");if(r[3].type!==l.OF)throw SyntaxError("Syntax error: Missing of");r.splice(0,1);var o=I.getNextStatementTokens(r),i=o.splice(0,1)[0];o.splice(0,1);var s=I.processTokens(o),a=I.processTokens(I.getBlockTokens(r,null)[0]);return new e(new O(i.value),s,a)},e}(y),m=function(t){function e(e){var n=t.call(this)||this;return n.toFlip=e,n}return o(e,t),e.prototype.evaluate=function(t,e){return s(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,this.toFlip.evaluate(t,e)];case 1:return[2,!n.sent()]}}))}))},e.prototype._getChildNodes=function(){return[this.toFlip]},e.parse=function(t,n,r){var o;return r.splice(0,1),o=r[0].type===l.L_PAREN?I.getNextStatementTokens(r):I.consumeTypes(r,[l.BOOLEAN_LITERAL,l.NUMBER_LITERAL,l.STRING_LITERAL,l.NAME,l.PERIOD]),new e(I.processTokens(o))},e}(y),O=function(t){function e(e){var n=t.call(this)||this;return n.value=e,n}return o(e,t),e.prototype.evaluate=function(t,e){return s(this,void 0,void 0,(function(){return a(this,(function(t){return[2,this.value]}))}))},e}(y),A=function(t){function e(e){var n=t.call(this,e)||this;return n.value=e,n.value="true"===e,n}return o(e,t),e}(O),E=function(t){function e(e){var n=t.call(this,e)||this;return n.value=e,n.value.indexOf(".")>-1?n.value=parseFloat(n.value):n.value=parseInt(n.value),n}return o(e,t),e}(O),T=function(t){function e(e,n){var r=t.call(this)||this;return r.fnc=e,r.args=n,r}return o(e,t),e.prototype._getChildNodes=function(){return[this.fnc,this.args]},e.prototype.evaluate=function(t,e){return s(this,void 0,void 0,(function(){var n,r,o;return a(this,(function(i){switch(i.label){case 0:return n=t,this.fnc instanceof S?[4,this.fnc.scope.evaluate(t,e)]:[3,2];case 1:n=i.sent(),i.label=2;case 2:return[4,this.args.evaluate(t,e)];case 3:return r=i.sent(),[4,this.fnc.evaluate(t,e)];case 4:return[2,(o=i.sent()).call.apply(o,u([n.wrapped||n],r))]}}))}))},e}(y),k=function(t){function e(e){var n=t.call(this)||this;return n.args=e,n}return o(e,t),e.prototype._getChildNodes=function(){return u([],this.args)},e.prototype.evaluate=function(t,e){return s(this,void 0,void 0,(function(){var n,r,o,i,s,u;return a(this,(function(a){switch(a.label){case 0:n=[],r=0,o=this.args,a.label=1;case 1:return r<o.length?(i=o[r],u=(s=n).push,[4,i.evaluate(t,e)]):[3,4];case 2:u.apply(s,[a.sent()]),a.label=3;case 3:return r++,[3,1];case 4:return[2,n]}}))}))},e}(y),S=function(t){function e(e,n){var r=t.call(this)||this;return r.scope=e,r.name=n,r}return o(e,t),e.prototype._getChildNodes=function(){return[this.scope,this.name]},e.prototype.evaluate=function(t,e){return s(this,void 0,void 0,(function(){var n,r,o,i,s,u,c,l,h,d,y;return a(this,(function(a){switch(a.label){case 0:return n=[],r=[],this.scope instanceof L?[4,this.scope.evaluate(t,e)]:[3,2];case 1:return n=a.sent(),[3,4];case 2:return i=(o=n).push,[4,this.scope.evaluate(t,e)];case 3:i.apply(o,[a.sent()]),a.label=4;case 4:s=0,u=n,a.label=5;case 5:return s<u.length?((c=u[s])instanceof f.Tag&&(c=c.scope),c?[3,7]:(l=Error,h='Cannot access "',[4,this.name.evaluate(t,e)])):[3,10];case 6:throw l.apply(void 0,[h+a.sent()+'" of undefined.']);case 7:return[4,this.name.evaluate(t,e)];case 8:d=a.sent(),y=c.get(d,!1),r.push(y instanceof p.Scope&&y.wrapped||y),a.label=9;case 9:return s++,[3,5];case 10:return[2,1===r.length?r[0]:r]}}))}))},e}(y),x=function(t){function e(e){var n=t.call(this)||this;return n.name=e,n}return o(e,t),e.prototype._getChildNodes=function(){return[this.name]},e.prototype.evaluate=function(t,e){return s(this,void 0,void 0,(function(){var n,r,o;return a(this,(function(i){switch(i.label){case 0:return o=(r=t).get,[4,this.name.evaluate(t,e)];case 1:return[2,(n=o.apply(r,[i.sent()]))instanceof p.Scope&&n.wrapped||n]}}))}))},e}(y),R=function(t){function e(e,n,r){var o=t.call(this)||this;return o.left=e,o.right=n,o.type=r,o}return o(e,t),e.prototype._getChildNodes=function(){return[this.left,this.right]},e.prototype.evaluate=function(t,e){return s(this,void 0,void 0,(function(){var n,r;return a(this,(function(o){switch(o.label){case 0:return[4,this.left.evaluate(t,e)];case 1:return n=o.sent(),[4,this.right.evaluate(t,e)];case 2:switch(r=o.sent(),this.type){case l.ADD:return[2,n+r];case l.SUBTRACT:return[2,n-r];case l.MULTIPLY:return[2,n*r];case l.DIVIDE:return[2,n/r]}return[2]}}))}))},e.match=function(t){return[l.ADD,l.SUBTRACT,l.MULTIPLY,l.DIVIDE].indexOf(t[0].type)>-1},e.parse=function(t,n,r){return r.splice(0,1),new e(t,I.processTokens(I.getNextStatementTokens(r)),n.type)},e}(y),P=function(t){function e(e,n,r){var o=t.call(this)||this;return o.left=e,o.right=n,o.type=r,o}return o(e,t),e.prototype._getChildNodes=function(){return[this.left,this.right]},e.prototype.evaluate=function(t,e){return s(this,void 0,void 0,(function(){var n,r,o,i,s,u,c,p,h,d;return a(this,(function(a){switch(a.label){case 0:return n=[],[4,this.left.name.evaluate(t,e)];case 1:return r=a.sent(),this.left instanceof S?[4,this.left.scope.evaluate(t,e)]:[3,3];case 2:return o=a.sent(),this.left.scope instanceof L?n.push.apply(n,o):n.push(o),[3,6];case 3:return this.left instanceof M?[4,this.left.elementRef.evaluate(t,e)]:[3,5];case 4:return n=a.sent(),[3,6];case 5:n.push(t),a.label=6;case 6:i=[],s=0,u=n,a.label=7;case 7:return s<u.length?((c=u[s])instanceof f.Tag?c=c.scope:c.$wrapped&&c.$scope&&(c=c.$scope),[4,this.left.evaluate(c,e)]):[3,11];case 8:return p=a.sent(),[4,this.right.evaluate(c,e)];case 9:if(h=a.sent(),this.left instanceof M&&(p=p[0]),this.right instanceof M&&(h=h[0]),p instanceof Array){switch(h instanceof Array||(h=[h]),this.type){case l.ASSIGN:p.splice(0,p.length),p.push.apply(p,h);break;case l.ADD_ASSIGN:p.push.apply(p,h);break;case l.SUBTRACT_ASSIGN:for(d=p.length-1;d>=0;d--)h.indexOf(p[d])>-1&&(p.splice(d,1),d++)}c.trigger("change:"+r)}else if(Number.isFinite(p)){switch(null===h||Number.isFinite(h)||(h=parseFloat(""+h)),p=p,h=h,this.type){case l.ASSIGN:p=h;break;case l.ADD_ASSIGN:p+=h;break;case l.SUBTRACT_ASSIGN:p-=h;break;case l.MULTIPLY_ASSIGN:p*=h;break;case l.DIVIDE_ASSIGN:p/=h}c.set(r,p)}else p=h,c.set(r,p);i.push(p),a.label=10;case 10:return s++,[3,7];case 11:return[2,i.length>1?i:i[0]]}}))}))},e.match=function(t){return[l.ASSIGN,l.ADD_ASSIGN,l.SUBTRACT_ASSIGN,l.MULTIPLY_ASSIGN,l.DIVIDE_ASSIGN].indexOf(t[0].type)>-1},e.parsed=function(t,n,r){if(!(t instanceof x||t instanceof S||t instanceof M))throw SyntaxError("Invalid assignment syntax.");r.splice(0,1);var o=I.getNextStatementTokens(r);return new e(t,I.processTokens(o),n.type)},e.parse=function(t,n,r){if(!(t instanceof x||t instanceof S||t instanceof M))throw SyntaxError("Invalid assignment syntax near "+I.toCode(r.splice(0,10)));r.splice(0,1);var o=I.getNextStatementTokens(r,!1,!1,!0);return new e(t,I.processTokens(o),n.type)},e}(y),j=function(t){function e(e,n,r){void 0===r&&(r=null);var o=t.call(this)||this;return o.object=e,o.index=n,o.indexTwo=r,o}return o(e,t),e.prototype._getChildNodes=function(){var t=[this.object,this.index];return this.indexTwo&&t.push(this.indexTwo),t},e.prototype.negativeIndex=function(t,e){return Number.isFinite(e)&&e<0?t.length+e:e},e.prototype.evaluate=function(t,e){return s(this,void 0,void 0,(function(){var n,r,o,i,s,u,c,l,p;return a(this,(function(a){switch(a.label){case 0:return[4,this.object.evaluate(t,e)];case 1:return n=a.sent(),o=this.negativeIndex,i=[n],[4,this.index.evaluate(t,e)];case 2:return r=o.apply(this,i.concat([a.sent()])),Number.isFinite(r)&&this.indexTwo?(u=this.negativeIndex,c=[n],[4,this.indexTwo.evaluate(t,e)]):[3,4];case 3:for(s=u.apply(this,c.concat([a.sent()])),l=[],p=r;p<=s;p++)l.push(n[p]);return[2,l];case 4:return[2,n[r]]}}))}))},e.match=function(t){return t[0].type===l.L_BRACKET},e.parse=function(t,n,r){for(var o=[],i=0,s=I.getBlockTokens(r,l.COLON);i<s.length;i++){var a=s[i];o.push(I.processTokens(a))}return new e(t,o[0],o.length>1&&o[1])},e}(y),C=function(t){function e(e){var n=t.call(this)||this;return n.values=e,n}return o(e,t),e.prototype._getChildNodes=function(){return new(Array.bind.apply(Array,u([void 0],this.values)))},e.prototype.evaluate=function(t,e){return s(this,void 0,void 0,(function(){var n,r,o,i,s,u;return a(this,(function(a){switch(a.label){case 0:n=[],r=0,o=this.values,a.label=1;case 1:return r<o.length?(i=o[r],u=(s=n).push,[4,i.evaluate(t,e)]):[3,4];case 2:u.apply(s,[a.sent()]),a.label=3;case 3:return r++,[3,1];case 4:return[2,n]}}))}))},e.match=function(t){return t[0].type===l.L_BRACKET},e.parse=function(t,n,r){for(var o=[],i=0,s=I.getBlockTokens(r);i<s.length;i++){var a=s[i];o.push(I.processTokens(a))}return new e(o)},e}(y),N=function(t){function e(e,n){var r=t.call(this)||this;return r.keys=e,r.values=n,r}return o(e,t),e.prototype._getChildNodes=function(){return new(Array.bind.apply(Array,u([void 0],this.values)))},e.prototype.evaluate=function(t,e){return s(this,void 0,void 0,(function(){var n,r,o,i,s,u,c;return a(this,(function(a){switch(a.label){case 0:n=new p.Scope,r=0,a.label=1;case 1:return r<this.values.length?(o=this.keys[r],i=this.values[r],u=(s=n).set,[4,o.evaluate(t,e)]):[3,5];case 2:return c=[a.sent()],[4,i.evaluate(t,e)];case 3:u.apply(s,c.concat([a.sent()])),a.label=4;case 4:return r++,[3,1];case 5:return[2,n]}}))}))},e.match=function(t){return t[0].type===l.L_BRACE},e.parse=function(t,n,r){for(var o=I.getNextStatementTokens(r),i=[],s=[];o.length>0;){var a=I.getTokensUntil(o,l.COLON,!1);if(o[0].type!==l.COLON)throw Error("Invalid object literal syntax. Expecting :");o.splice(0,1);var u=I.getTokensUntil(o,l.COMMA,!0,!1,!0);i.push(I.processTokens(a)),s.push(I.processTokens(u))}return new e(i,s)},e}(y),L=function(t){function e(e){var n=t.call(this)||this;return n.query=e,n.requiresPrep=!0,n}return o(e,t),e.prototype.evaluate=function(t,e){return s(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,e.get(this.query,!0)];case 1:return[2,t.sent()]}}))}))},e.prototype.prepare=function(t,e){return s(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,e.get(this.query,!0)];case 1:return t.sent(),[2]}}))}))},e}(y),M=function(t){function e(e,n){var r=t.call(this)||this;return r.elementRef=e,r.attr=n,r.requiresPrep=!0,r}return o(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return new O("@"+this.attributeName)},enumerable:!1,configurable:!0}),e.prototype._getChildNodes=function(){return[this.elementRef]},Object.defineProperty(e.prototype,"attributeName",{get:function(){return this.attr.startsWith(".")?this.attr.substring(2):this.attr.substring(1)},enumerable:!1,configurable:!0}),e.prototype.evaluate=function(t,e){return s(this,void 0,void 0,(function(){var n=this;return a(this,(function(r){switch(r.label){case 0:return[4,this.elementRef.evaluate(t,e)];case 1:return[2,r.sent().map((function(t){return t.scope.get("@"+n.attributeName)}))]}}))}))},e.prototype.prepare=function(t,e){return s(this,void 0,void 0,(function(){var n,r,o;return a(this,(function(i){switch(i.label){case 0:return[4,this.elementRef.prepare(t,e)];case 1:return i.sent(),[4,this.elementRef.evaluate(t,e)];case 2:n=i.sent(),r=0,o=n,i.label=3;case 3:return r<o.length?[4,o[r].watchAttribute(this.attributeName)]:[3,6];case 4:i.sent(),i.label=5;case 5:return r++,[3,3];case 6:return[2]}}))}))},e}(y);e.AttributableNodes=[x,S,M];var I=function(){function t(e){this.code=e,t.cache[e]?this.rootNode=t.cache[e]:(this.parse(),t.cache[e]=this.rootNode)}return t.prototype.parse=function(){var e=t.tokenize(this.code);this.rootNode=t.processTokens(e)},t.prototype.evaluate=function(t,e){return s(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,this.rootNode.evaluate(t,e)];case 1:return[2,n.sent()]}}))}))},t.prototype.prepare=function(t,e){return s(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return this.rootNode.isPreparationRequired()?[4,this.rootNode.prepare(t,e)]:[2];case 1:return[2,n.sent()]}}))}))},t.prototype.bindToScopeChanges=function(t,e){return s(this,void 0,void 0,(function(){var n,r,o,i,s;return a(this,(function(a){switch(a.label){case 0:n=0,r=this.rootNode.findChildrenByTypes([x,S],"ScopeMemberNodes"),a.label=1;case 1:return n<r.length?(o=r[n],i=t,o instanceof S?[4,o.scope.evaluate(t,null)]:[3,3]):[3,6];case 2:i=a.sent(),a.label=3;case 3:return[4,o.name.evaluate(t,null)];case 4:s=a.sent(),i.bind("change:"+s,e),a.label=5;case 5:return n++,[3,1];case 6:return[2]}}))}))},t.tokenize=function(t){var e,n=[];if(!t||0===t.length)return n;do{e=!1;for(var r=0,o=d;r<o.length;r++){var i=o[r],s=i.pattern.exec(t);if(s){n.push({type:i.type,value:s[s.length-1]}),t=t.substring(s[0].length),e=!0;break}}}while(t.length>0&&e);return n},t.stripWhiteSpace=function(t){for(var e=0;e<t.length;e++)t[e].type===l.WHITESPACE&&(t.splice(e,1),e--);return t},t.processTokens=function(e){var n=[],r=null,o=0;for(t.stripWhiteSpace(e);e.length>0&&!(++o>1e3);){e[0].type===l.RETURN&&e.splice(0,1);var i=e[0];if(i.type===l.NAME)r=new x(new O(i.value)),e.splice(0,1);else if(i.type===l.IF)r=g.parse(r,i,e),n.push(r),r=null;else if(i.type===l.FOR)r=w.parse(r,i,e),n.push(r),r=null;else if(i.type===l.STRING_LITERAL)r=new O(i.value),e.splice(0,1);else if(i.type===l.NUMBER_LITERAL)r=new E(i.value),e.splice(0,1);else if(e[0].type===l.ELEMENT_REFERENCE)r=new L(e[0].value),e.splice(0,1);else if(e[0].type===l.ELEMENT_QUERY)r=new L(e[0].value),e.splice(0,1);else if(e[0].type===l.L_BRACKET)r=r?j.parse(r,i,e):C.parse(r,i,e);else if(e[0].type===l.L_BRACE)r=N.parse(r,i,e);else if(e[0].type===l.ELEMENT_ATTRIBUTE&&r instanceof L)r=new M(r,e[0].value),e.splice(0,1);else if(null!==r&&i.type===l.PERIOD&&e[1].type===l.NAME)r=new S(r,new O(e[1].value)),e.splice(0,2);else if(e[0].type===l.L_PAREN){for(var s=[],a=0,u=t.getBlockTokens(e);a<u.length;a++){var c=u[a];s.push(t.processTokens(c))}r=r?new T(r,new k(s)):new b(s)}else if(e[0].type===l.SEMI_COLON)r&&n.push(r),r=null,e.splice(0,1);else if(v.match(e))r=v.parse(r,i,e);else if(R.match(e))r=R.parse(r,i,e);else if(P.match(e))r=P.parse(r,i,e);else if(e[0].type===l.WHITESPACE)e.splice(0,1);else if(e[0].type===l.BOOLEAN_LITERAL)r=new A(e[0].value),e.splice(0,1);else if(e[0].type===l.NULL_LITERAL)r=new O(null),e.splice(0,1);else{if(e[0].type!==l.EXCLAMATION_POINT){var p=t.toCode(e,10);throw Error("Syntax Error. Near "+p)}r=m.parse(r,e[0],e)}}return r&&n.push(r),new b(n)},t.toCode=function(t,e){var n="";e=e||t.length;for(var r=0;r<e&&t[r];r++)n+=t[r].value;return n},t.getBlockInfo=function(t){var e,n,r,o,i,s=t[0];switch(e=s.type===l.L_PAREN?c.PAREN:s.type===l.L_BRACE?c.BRACE:s.type===l.L_BRACKET?c.BRACKET:c.STATEMENT){case c.PAREN:n=l.L_PAREN,r=l.R_PAREN,o="(",i=")";break;case c.BRACE:n=l.L_BRACE,r=l.R_BRACE,o="{",i="}";break;case c.BRACKET:n=l.L_BRACKET,r=l.R_BRACKET,o="[",i="]";break;default:n=null,r=l.SEMI_COLON,o=null,i=";"}return{type:e,open:n,close:r,openCharacter:o,closeCharacter:i}},t.getNextStatementTokens=function(e,n,r,o){void 0===n&&(n=!0),void 0===r&&(r=!0),void 0===o&&(o=!1);var i=t.getBlockInfo(e);return r&&e[0].type===i.open&&e.splice(0,1),t.getTokensUntil(e,i.close,n,o)},t.getBlockTokens=function(e,n){void 0===n&&(n=l.COMMA);for(var r=t.getBlockInfo(e),o=0,i=[],s=[],a=0;a<e.length;a++){var u=e[a];if(u.type===r.open?(o+=1)>1&&s.push(u):u.type===r.close?(o-=1)>0&&s.push(u):null!==n&&u.type===n&&1==o?(i.push(s),s=[]):u.type!==l.WHITESPACE&&s.push(u),e.splice(0,1),a--,0===o)return s.length>0&&i.push(s),i}throw Error("Invalid Syntax, missing "+r.closeCharacter)},t.getTokensUntil=function(e,n,r,o,i){void 0===n&&(n=l.SEMI_COLON),void 0===r&&(r=!0),void 0===o&&(o=!1),void 0===i&&(i=!1);for(var s=[],a=t.getBlockInfo(e),u=0,c=0,p=0,f=0;f<e.length;f++){var h=e[f];if(h.type===a.open&&0===f||(h.type===l.L_PAREN&&(u+=1),h.type===l.L_BRACE&&(c+=1),h.type===l.L_BRACKET&&(p+=1)),[n,l.R_BRACKET,l.R_BRACE,l.R_PAREN].indexOf(h.type)>-1)if(u>0&&h.type===l.R_PAREN)u-=1;else if(c>0&&h.type===l.R_BRACE)c-=1;else{if(!(p>0&&h.type===l.R_BRACKET)){if(0===u&&0===c&&0===p&&h.type===n){o&&s.push(h),(o||r)&&h.type!==l.SEMI_COLON&&e.splice(0,1);break}if(i)break;throw Error("Invalid syntax, expecting "+n+".")}p-=1}s.push(h),e.splice(0,1),f--}return s},t.consumeTypes=function(t,e){for(var n=[],r=0,o=t;r<o.length;r++){var i=o[r];if(!(e.indexOf(i.type)>-1))break;n.push(i)}return t.splice(0,n.length),n},t.cache={},i([h.benchmark("AST","parse")],t.prototype,"parse",null),i([h.benchmarkAsync("AST","evaluate")],t.prototype,"evaluate",null),i([h.benchmarkAsync("AST","prepare")],t.prototype,"prepare",null),i([h.benchmarkAsync("AST","bindToScopeChanges")],t.prototype,"bindToScopeChanges",null),i([h.benchmark("AST","tokenize")],t,"tokenize",null),i([h.benchmark("AST","stripWhiteSpace")],t,"stripWhiteSpace",null),i([h.benchmark("AST","processTokens")],t,"processTokens",null),i([h.benchmark("AST","getBlockInfo")],t,"getBlockInfo",null),i([h.benchmark("AST","getNextStatementTokens")],t,"getNextStatementTokens",null),i([h.benchmark("AST","getBlockTokens")],t,"getBlockTokens",null),i([h.benchmark("AST","getTokensUntil")],t,"getTokensUntil",null),i([h.benchmark("AST","consumeTypes")],t,"consumeTypes",null),t}();e.Tree=I},5092:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Attribute=void 0;var i=n(4264),s=function(){function t(e,n){this.tag=e,this.attributeName=n,this.configure(),i.VisionHelper.window&&i.VisionHelper.window.Attributes.push(this),t.cache[n]=this}return t.prototype.configure=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){return[2]}))}))},t.prototype.compile=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){return[2]}))}))},t.prototype.setup=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){return[2]}))}))},t.prototype.extract=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){return[2]}))}))},t.prototype.connect=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){return[2]}))}))},t.prototype.evaluate=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){return[2]}))}))},t.prototype.getAttributeValue=function(t){return void 0===t&&(t=null),this.tag.getRawAttributeValue(this.attributeName,t)},t.prototype.getAttributeBinding=function(t){return void 0===t&&(t=null),this.tag.getAttributeBinding(this.attributeName)||t},t.prototype.getAttributeModifiers=function(t){void 0===t&&(t=[]);var e=this.tag.getAttributeModifiers(this.attributeName);return e.length&&e||t},t.prototype.hasModifier=function(t){return this.getAttributeModifiers().indexOf(t)>-1},t.prototype.mutate=function(t){},Object.defineProperty(t.prototype,"value",{get:function(){return this.tag.element.getAttribute(this.attributeName)||""},set:function(t){this.tag.element.setAttribute(this.attributeName,t)},enumerable:!1,configurable:!0}),t.scoped=!1,t.cache={},t}();e.Attribute=s},44:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.benchmarkResultsAll=e.benchmarkResultsMatch=e.benchmarkResults=e.benchmarkEnd=e.benchmarkStart=e.benchmarkAsync=e.benchmark=e.BENCHMARKS=void 0;var s=n(4264);e.BENCHMARKS=[];var a={};function u(t){return(t=t instanceof Array?t:t&&[t]||[]).map((function(t){return t.toLowerCase()}))}function c(t,e){return(e=i([],u(e))).sort(),e.length&&(t+"."+e.join(".")).toLowerCase()||t&&t.toLowerCase()||"nopath"}function l(t,e,n,r){return void 0===r&&(r=null),(r instanceof Date||Number.isFinite(r))&&(!Number.isFinite(n)&&n instanceof Date&&(n=n.getTime()),!Number.isFinite(r)&&r instanceof Date&&(r=r.getTime()),n=r-n),{name:t,tags:e=u(e),path:c(t,e),time:n}}function p(t,e){for(var n in t=u(t),e=u(e))if(-1===t.indexOf(n))return!1;return!0}function f(t,n,r){return void 0===r&&(r=!1),function(o,i,a){if(s.VisionHelper.doBenchmark){var c=a.value;a.value=function(){t=o.__BENCHMARK_NAME__||t||i,n=u(n),(o.__BENCHMARK_NAME__||o.__BENCHMARK_TAGS__)&&(n.push(t||i),n.push.apply(n,o.__BENCHMARK_TAGS__));var s=new Date,a=c.apply(this,arguments),p=new Date,f=l(t,n,s,p);return e.BENCHMARKS.push(f),r&&console.log(f),a}}}}function h(t,e){s.VisionHelper.doBenchmark&&(t=c(t,e),a[t]=new Date)}function d(t,n,r){if(void 0===r&&(r=null),s.VisionHelper.doBenchmark){var o=c(t,n),i=l(t,n,a[o],new Date);if(e.BENCHMARKS.push(i),r||null===r&&i.time>10){var u=i.path?t+"["+i.path+"]":t;console.warn(u+" took "+i.time+"ms to complete.")}return h(t),i}}function y(t,n){if(void 0===n&&(n=null),s.VisionHelper.doBenchmark){for(var r=c(t,n),o=0,i=0,a=0,u=e.BENCHMARKS;a<u.length;a++){var l=u[a];(!n&&l.name===t||l.path===r||!t&&p(l.tags,n))&&(o++,i+=l.time)}return{name:t,calls:o,time:i,average:i/o}}}function b(t){if(s.VisionHelper.doBenchmark){for(var n={},r=0,o=0,i=0,a=e.BENCHMARKS;i<a.length;i++){var u=a[i];t.test(u.name)&&!n[u.name]&&(n[u.name]=y(u.name),r+=n[u.name].calls,o+=n[u.name].time)}return n.ALL={name:"ALL",calls:r,time:o,average:o/r},n}}function v(){if(s.VisionHelper.doBenchmark){for(var t={},n=0,r=0,o=0,i=e.BENCHMARKS;o<i.length;o++){var a=i[o];if(!t[a.name]){var u=a.path?a.name+"."+a.path:a.name;t[u]=y(a.name,a.tags),n+=t[u].calls,r+=t[u].time}}return t.ALL={name:"ALL",calls:n,time:r,average:r/n},t}}e.benchmark=f,e.benchmarkAsync=function(t,n,a){return void 0===a&&(a=!1),function(u,c,p){if(s.VisionHelper.doBenchmark){t=t||c;var f=p.value;p.value=function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return r(this,void 0,void 0,(function(){var r,u,c,p;return o(this,(function(o){switch(o.label){case 0:return r=new Date,[4,f.apply.apply(f,i([this],s))];case 1:return u=o.sent(),c=new Date,p=l(t,n,r,c),e.BENCHMARKS.push(p),a&&console.log(p),[2,u]}}))}))}}}},e.benchmarkStart=h,e.benchmarkEnd=d,e.benchmarkResults=y,e.benchmarkResultsMatch=b,e.benchmarkResultsAll=v,s.VisionHelper.doBenchmark&&s.VisionHelper.window&&(window.benchmark=f,window.benchmarks=e.BENCHMARKS,window.benchmarkStart=h,window.benchmarkEnd=d,window.benchmarkResults=y,window.benchmarkResultsMatch=b,window.benchmarkResultsAll=v)},6417:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Configuration=void 0;var i=n(8294),s=n(4264),a=function(t){function e(){var e=t.call(this)||this;return e.data=s.VisionHelper.window&&window.$configuration||{},e}return o(e,t),e.prototype.get=function(t,e){return void 0===e&&(e=null),void 0===this.data[t]?e:this.data[t]},e.prototype.set=function(t,e){var n=this.data[t];this.data[t]=e,this.trigger("change:"+t,{value:e,previous:n}),this.trigger("change",{key:t,value:e,previous:n})},e.set=function(t,n){e.instance.set(t,n)},e.get=function(t,n){return void 0===n&&(n=null),e.instance.get(t,n)},Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),e}(i.EventDispatcher);e.Configuration=a},9033:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},u=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.DOM=void 0;var c=n(712),l=n(2712),p=n(8294),f=n(6417),h=n(7754),d=n(1008),y=n(44),b=n(4264),v=function(t){function e(e,n,r){void 0===n&&(n=!0),void 0===r&&(r=!1);var o=t.call(this)||this;return o.rootElement=e,o.debug=r,o.queued=[],o.observer=new MutationObserver(o.mutation.bind(o)),o.tags=[],n&&o.buildFrom(e,!0),o.evaluate(),f.Configuration.instance.bind("change",o.evaluate.bind(o)),o}return o(e,t),e.prototype.get=function(t,e){return void 0===e&&(e=!1),s(this,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return n=this.querySelectorAll(t),[4,this.getTagsForElement(Array.from(n),e)];case 1:return[2,r.sent()]}}))}))},e.prototype.registerElementInRoot=function(t){var e=t.element.getAttribute("id");e&&this.root.scope.set("#"+e,t.scope)},e.prototype.querySelectorAll=function(t){return this.rootElement.querySelectorAll(t)},e.prototype.querySelector=function(t){return this.rootElement.querySelector(t)},e.prototype.eval=function(t){return s(this,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:return[4,(e=new h.Tree(t)).prepare(this.root.scope,this)];case 1:return n.sent(),[4,e.evaluate(this.root.scope,this)];case 2:return[2,n.sent()]}}))}))},e.prototype.evaluate=function(){return s(this,void 0,void 0,(function(){var t,e;return a(this,(function(n){switch(n.label){case 0:clearTimeout(this.evaluateTimeout),t=0,e=this.tags,n.label=1;case 1:return t<e.length?[4,e[t].evaluate()]:[3,4];case 2:n.sent(),n.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},e.prototype.mutation=function(t){return s(this,void 0,void 0,(function(){var e,n,r,o;return a(this,(function(i){switch(i.label){case 0:e=0,n=t,i.label=1;case 1:return e<n.length?(r=n[e],[4,this.getTagForElement(r.target)]):[3,4];case 2:(o=i.sent())&&o.mutate(r),i.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))},e.prototype.buildFrom=function(t,e){return void 0===e&&(e=!1),s(this,void 0,void 0,(function(){var n,r,o,i,s,u,p,f,h,d,v,_,g,w,m,O,A,E,T,k,S,x,R,P,j,C,N,L,M,I,D;return a(this,(function(a){switch(a.label){case 0:for(n=[],e&&(document.body.setAttribute("vsn-root",""),document.ondragover=function(t){return t.preventDefault()}),r=0,o=this.tags;r<o.length;r++)D=o[r],n.push(D.element);if(i=[],s=[],b.VisionHelper.doBenchmark&&y.benchmarkStart("DOM","findElements"),t&&t.querySelectorAll)for(u=0,p=Array.from(t.querySelectorAll("*"));u<p.length;u++)d=p[u],l.ElementHelper.hasVisionAttribute(d)&&(this.queued.indexOf(d)>-1||(this.queued.push(d),s.push(d)));for(b.VisionHelper.doBenchmark&&y.benchmarkEnd("DOM","findElements"),b.VisionHelper.doBenchmark&&y.benchmarkStart("DOM","buildTags"),f=0,h=s;f<h.length;f++)d=h[f],n.indexOf(d)>-1||(D=new c.Tag(d,this),this.tags.push(D),i.push(D),n.push(d));return b.VisionHelper.doBenchmark&&y.benchmarkEnd("DOM","buildTags"),e?(v=this,[4,this.getTagForElement(document.body)]):[3,2];case 1:v.root=a.sent(),a.label=2;case 2:b.VisionHelper.doBenchmark&&y.benchmarkStart("DOM","buildTagAttributes"),_=0,g=i,a.label=3;case 3:return _<g.length?[4,(D=g[_]).buildAttributes()]:[3,6];case 4:a.sent(),a.label=5;case 5:return _++,[3,3];case 6:b.VisionHelper.doBenchmark&&y.benchmarkEnd("DOM","buildTagAttributes"),b.VisionHelper.inDevelopment&&y.benchmarkStart("DOM","compileAttributes"),w=0,m=i,a.label=7;case 7:return w<m.length?[4,(D=m[w]).compileAttributes()]:[3,10];case 8:a.sent(),a.label=9;case 9:return w++,[3,7];case 10:b.VisionHelper.doBenchmark&&y.benchmarkEnd("DOM","compileAttributes"),b.VisionHelper.doBenchmark&&y.benchmarkStart("DOM","buildTree"),O=0,A=i,a.label=11;case 11:if(!(O<A.length))return[3,17];if((D=A[O])===this.root)return[3,16];E=D.element.parentElement,T=!1,a.label=12;case 12:return E?n.indexOf(E)>-1?(T=!0,k=D,[4,this.getTagForElement(E)]):[3,14]:[3,15];case 13:return k.parentTag=a.sent(),[3,15];case 14:return E=E.parentElement,[3,12];case 15:T||console.error("Could not find parent for ",D),a.label=16;case 16:return O++,[3,11];case 17:b.VisionHelper.doBenchmark&&y.benchmarkEnd("DOM","buildTree"),b.VisionHelper.doBenchmark&&y.benchmarkStart("DOM","setupAttributes"),S=0,x=i,a.label=18;case 18:return S<x.length?[4,(D=x[S]).setupAttributes()]:[3,21];case 19:a.sent(),a.label=20;case 20:return S++,[3,18];case 21:b.VisionHelper.doBenchmark&&y.benchmarkEnd("DOM","setupAttributes"),b.VisionHelper.doBenchmark&&y.benchmarkStart("DOM","extractAttributes"),R=0,P=i,a.label=22;case 22:return R<P.length?[4,(D=P[R]).extractAttributes()]:[3,25];case 23:a.sent(),a.label=24;case 24:return R++,[3,22];case 25:b.VisionHelper.doBenchmark&&y.benchmarkEnd("DOM","extractAttributes"),b.VisionHelper.doBenchmark&&y.benchmarkStart("DOM","connectAttributes"),j=0,C=i,a.label=26;case 26:return j<C.length?[4,(D=C[j]).connectAttributes()]:[3,29];case 27:a.sent(),a.label=28;case 28:return j++,[3,26];case 29:b.VisionHelper.doBenchmark&&y.benchmarkEnd("DOM","connectAttributes"),b.VisionHelper.doBenchmark&&y.benchmarkStart("DOM","finalizeTags"),N=0,L=i,a.label=30;case 30:return N<L.length?[4,(D=L[N]).finalize()]:[3,33];case 31:a.sent(),this.queued.splice(this.queued.indexOf(D.element),1),a.label=32;case 32:return N++,[3,30];case 33:for(b.VisionHelper.doBenchmark&&y.benchmarkEnd("DOM","finalizeTags"),b.VisionHelper.doBenchmark&&y.benchmarkStart("DOM","observeTags"),M=0,I=i;M<I.length;M++)D=I[M],this.observer.observe(D.element,{attributes:!0,characterData:!0,childList:!0,subtree:!0});return b.VisionHelper.doBenchmark&&y.benchmarkEnd("DOM","observeTags"),this.trigger("built"),[2]}}))}))},e.prototype.getTagsForElement=function(t,e){return void 0===e&&(e=!1),s(this,void 0,void 0,(function(){var n,r,o,i,s,c,l,p,f,h,y,b;return a(this,(function(a){switch(a.label){case 0:for(n=new d.TagList,r=[],o=0,i=this.tags;o<i.length;o++)s=i[o],t.indexOf(s.element)>-1&&(n.push(s),r.push(s.element));if(!e)return[3,4];for(c=u([],t),l=c.length;l>=0;l--)h=c[l],r.indexOf(h)>-1&&c.pop();p=0,f=c,a.label=1;case 1:return p<f.length?(h=f[p],b=(y=n).push,[4,this.getTagForElement(h,e)]):[3,4];case 2:b.apply(y,[a.sent()]),a.label=3;case 3:return p++,[3,1];case 4:return[2,n]}}))}))},e.prototype.getTagForElement=function(t,e){return void 0===e&&(e=!1),s(this,void 0,void 0,(function(){var n,r,o;return a(this,(function(i){switch(i.label){case 0:for(n=0,r=this.tags;n<r.length;n++)if((o=r[n]).element===t)return[2,o];return t&&e?(t.setAttribute("vsn-ref",""),[4,this.buildFrom(t.parentElement)]):[3,3];case 1:return i.sent(),[4,this.getTagForElement(t,!1)];case 2:return[2,i.sent()];case 3:return[2,null]}}))}))},Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e(document,!1,!1)),e._instance},enumerable:!1,configurable:!0}),i([y.benchmark()],e.prototype,"buildFrom",null),e}(p.EventDispatcher);e.DOM=v},6846:function(t,e,n){var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.Formats=void 0;var o=n(1371),i=n(6417),s=function(){function t(){}return t.currency=function(e){if(!t.CurrencyFormatter){var n=function(){var e=i.Configuration.get("locale","en-US"),n=i.Configuration.get("currency","USD");t.CurrencyFormatter=new Intl.NumberFormat(e,{style:"currency",currency:n})};i.Configuration.instance.bind("change:locale",n),i.Configuration.instance.bind("change:currency",n),n()}return e=(""+e).replace(/[^0-9.]+/,""),t.CurrencyFormatter.format(parseFloat(e))},t.date=function(t){return t?t.toLocaleString():""},r([o.Registry.format("currency")],t,"currency",null),r([o.Registry.format("date")],t,"date",null),t}();e.Formats=s},7677:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Query=void 0;var i=n(1008),s=n(4264),a=n(9033);e.Query=function(t,e){return void 0===e&&(e=null),r(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return s.VisionHelper.document?[4,(e=e||a.DOM.instance).get(t,!0)]:[3,2];case 1:return[2,n.sent()];case 2:return[2,new i.TagList]}}))}))}},1371:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=e.RegistryStore=e.register=void 0;var s=n(8294),a=n(8513),u=n(4264),c=n(44);function l(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),function(r,o){void 0===o&&(o=null),e=e||r.prototype.constructor.name,null!==o&&(r=r[o]),f.instance[t].register(e,r),n&&n()}}e.register=l;var p=function(t){function e(e){void 0===e&&(e=null);var n=t.call(this)||this;return n.timeouts={},n.store=e||{},n}return o(e,t),e.prototype.register=function(t,e){this.store[t]=e,this.trigger("registered:"+t,e)},e.prototype.get=function(t){var e=this,n=a.Promise.defer();return this.store[t]?n.resolve(this.store[t]):(console.warn("Waiting for "+t+" to be registered."),this.timeouts[t]=setTimeout((function(){console.warn("RegistryStore.get timed out after 5 seconds trying to find "+t+". Make sure the item is registered.")}),5e3),this.once("registered:"+t,(function(r){clearTimeout(e.timeouts[t]),n.resolve(r)}))),n.promise},e.prototype.getSynchronous=function(t){return this.store[t]},i([c.benchmark("RegistryStore.get")],e.prototype,"get",null),e}(s.EventDispatcher);e.RegistryStore=p;var f=function(t){function e(){var e=t.call(this)||this,n=u.VisionHelper.window||{};return e.classes=new p(n.$classes||{}),e.models=new p(n.$models||{}),e.templates=new p(n.$templates||{}),e.types=new p(n.$types||{}),e.formats=new p(n.$formats||{}),e.attributes=new p(n.$attributes||{}),e}return o(e,t),e.class=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=null),l("classes",t,e)},e.model=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=null),l("models",t,e)},e.template=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=null),l("templates",t,e)},e.type=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=null),l("types",t,e)},e.format=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=null),l("formats",t,e)},e.attribute=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=null),l("attributes",t,e)},Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),e}(s.EventDispatcher);e.Registry=f},4843:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.Scope=e.WrappedArray=e.ScopeVariableType=e.ScopeReference=void 0;var s=n(6586),a=n(8294),u=n(1371),c=function(t,e,n){this.scope=t,this.key=e,this.value=n};e.ScopeReference=c;var l=function(){function t(){}return t.Integer="integer",t.Float="float",t.Boolean="boolean",t.String="string",t}();e.ScopeVariableType=l;var p=function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.apply(this,n)||this;return o.$wrapped=!0,Object.setPrototypeOf(o,e.prototype),o._lastKey=0,o._listeners={},o}return o(e,t),e.prototype.push=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.prototype.push.apply(this,e);this.trigger.apply(this,i(["push"],e));for(var o=0,s=e;o<s.length;o++){var a=s[o];this.trigger("add",a)}return r},e.prototype.splice=function(e,n){for(var r=t.prototype.splice.call(this,e,n),o=0,i=r;o<i.length;o++){var s=i[o];this.trigger("remove",s)}return r},Object.defineProperty(e.prototype,"length",{get:function(){for(var t=0,e=0;e<this.length;e++)this[e],t+=1;return t},set:function(t){for(var e=0,n=[],r=0;r<this.length;r++){var o=this[r];(e+=1)>=t&&n.push(o)}for(var i=0,s=n;i<s.length;i++)o=s[i],this.splice(this.indexOf(o),1),this.trigger("remove",o)},enumerable:!1,configurable:!0}),e.prototype.bind=function(t,e,n,r){return r=r||!1,this._lastKey++,this._listeners[t]=this._listeners[t]||[],this._listeners[t].push(new a.EventCallback(e,this._lastKey,r,n)),this._lastKey},e.prototype.once=function(t,e,n){return this.bind(t,e,n,!0)},e.prototype.unbind=function(t,e){if(!(t in this._listeners))return!1;if(!e)return this._listeners[t]=[],!0;for(var n=0,r=this._listeners[t];n<r.length;n++){var o=r[n];if(e==o.key)return this._listeners[t].splice(this._listeners[t].indexOf(o),1),!0}return!1},e.prototype.unbindWithContext=function(t,e){if(!(t in this._listeners))return 0;for(var n=[],r=0,o=0,i=this._listeners[t];o<i.length;o++)e==(u=i[o]).context&&n.push(u);for(var s=0,a=n;s<a.length;s++){var u=a[s];this._listeners[t].splice(this._listeners[t].indexOf(u),1),r++}return r},e.prototype.getListener=function(t,e){for(var n=0,r=this._listeners[t];n<r.length;n++){var o=r[n];if(e==o.key)return o}},e.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(t in this._listeners)for(var r=0;r<this._listeners[t].length;r++){var o=this._listeners[t][r];o.once&&(this.unbind(t,o.key),r--),o.call(e)}},e}(Array);e.WrappedArray=p;var f=function(t){function e(e){var n=t.call(this)||this;return n.types={},e&&(n.parentScope=e),n.children=[],n.data=new s.DataModel({}),n.keys=[],n}return o(e,t),Object.defineProperty(e.prototype,"parentScope",{get:function(){return this._parentScope},set:function(t){this._parentScope=t,t.addChild(this)},enumerable:!1,configurable:!0}),e.prototype.addChild=function(t){this.children.push(t)},e.prototype.getReference=function(t,n){void 0===n&&(n=!0);for(var r=t.split("."),o=r[0],i=this,s=null,a=r.length,u=0;u<a;u++){o=r[u],s=i.get(o,0===u);var l=[null,void 0].indexOf(s)>-1;if(n&&l&&u+1<a)s=new e(i),i.set(o,s);else if(!n&&l)return null;s&&s instanceof e&&(i=s)}return new c(i,o,s)},e.prototype.get=function(t,e){return void 0===e&&(e=!0),void 0===this.data[t]?e&&this.parentScope?this.parentScope.get(t,e):"":this.data[t]},e.prototype.set=function(t,e){if(void 0===this.data[t]&&this.data.createField(t),"string"==typeof e){var n=this.getType(t),r=u.Registry.instance.types.getSynchronous(n);r&&(e=r(e)),[l.Integer,l.Float].indexOf(n)>-1&&isNaN(e)&&(e=null)}if(this.data[t]!==e){var o=this.data[t];this.data[t]=e;var i={value:e,previousValue:o,key:t};this.trigger("change:"+t,i),this.trigger("change",t,i)}-1===this.keys.indexOf(t)&&this.keys.push(t)},e.prototype.has=function(t){return this.keys.indexOf(t)>-1},e.prototype.setType=function(t,e){this.types[t]=e,this.has(t)&&this.set(t,this.get(t))},e.prototype.getType=function(t){return this.types[t]||l.String},e.prototype.extend=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];this.set(r,t[r])}},e.prototype.clear=function(){for(var t=0,e=this.keys;t<e.length;t++){var n=e[t];["function","object"].indexOf(typeof this.get(n))>-1||this.set(n,null)}},e.prototype.cleanup=function(){this.children.length=0,this.parentScope=null},e.prototype.setData=function(t){for(var e in t)this.set(e,t[e])},e.prototype.wrap=function(t,n,r){var o=this;if(void 0===n&&(n=!1),void 0===r&&(r=!0),t instanceof e&&(t=t.data),-1===[null,void 0].indexOf(this.wrapped))throw Error("A scope can only wrap a single object");if(!t)throw Error("Can only wrap objects.");if(t.$wrapped)throw Error("An object should only be wrapped once.");this.wrapped=t,this.wrapped.$wrapped=!0;var s=function(e){return["constructor"].indexOf(e)>-1||e.startsWith("$")?"continue":a.wrapped[e]instanceof Function?(a.set(e,a.wrapped[e]),"continue"):(a.wrapped[e]instanceof Array&&!(a.wrapped[e]instanceof p)&&(a.wrapped[e]=new(p.bind.apply(p,i([void 0],t[e])))),r&&-1===[null,void 0].indexOf(a.wrapped[e])&&a.set(e,a.wrapped[e]),Object.defineProperty(a.wrapped,e,{get:function(){return o.get(e)},set:function(t){o.set(e,t)},enumerable:!0,configurable:!0}),void(n&&a.trigger("change:"+e)))},a=this;for(var u in t)s(u);this.wrapped.get=this.get.bind(this),this.wrapped.set=this.set.bind(this),this.wrapped.bind=this.bind.bind(this),this.wrapped.once=this.once.bind(this),this.wrapped.unbind=this.unbind.bind(this)},e.prototype.unwrap=function(){if(this.wrapped){var t=this.wrapped;for(var e in this.wrapped=null,t.$wrapped=!1,t)delete t[e]}},e}(a.EventDispatcher);e.Scope=f},712:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},a=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.Tag=e.TagState=void 0;var u,c=n(4843),l=n(8294),p=n(4264),f=n(6032),h=n(8447),d=n(1371),y=n(44);!function(t){t[t.Instantiated=0]="Instantiated",t[t.AttributesBuilt=1]="AttributesBuilt",t[t.AttributesCompiled=2]="AttributesCompiled",t[t.AttributesSetup=3]="AttributesSetup",t[t.AttributesExtracted=4]="AttributesExtracted",t[t.AttributesConnected=5]="AttributesConnected",t[t.Built=6]="Built"}(u=e.TagState||(e.TagState={}));var b=function(t){function e(e,n){var r=t.call(this)||this;return r.element=e,r.dom=n,r._children=[],r.inputTags=["input","select","textarea"],r._uniqueScope=!1,r.rawAttributes={},r.parsedAttributes={},r.attributes=[],r.onEventHandlers={},r.analyzeElementAttributes(),r._state=u.Instantiated,p.VisionHelper.window&&(p.VisionHelper.window.Tags||(p.VisionHelper.window.Tags=[],p.VisionHelper.window.Attributes=[]),p.VisionHelper.window.Tags.push(r)),r}return o(e,t),Object.defineProperty(e.prototype,"uniqueScope",{get:function(){return this._uniqueScope},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this.element.style},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"computedStyle",{get:function(){return p.VisionHelper.window&&window.getComputedStyle(this.element)||null},enumerable:!1,configurable:!0}),e.prototype.analyzeElementAttributes=function(){if(this.element.attributes&&!(this.element.attributes.length<=0))for(var t=0;t<this.element.attributes.length;t++){var e=this.element.attributes[t];if(this.rawAttributes[e.name]=e.value,e.name.indexOf(":")>-1){var n=e.name.split(":"),r=n.slice(1);r.push(e.value),this.parsedAttributes[n[0]]=r}else this.parsedAttributes[e.name]=[null,e.value]}},e.prototype.evaluate=function(){return i(this,void 0,void 0,(function(){var t,e;return s(this,(function(n){switch(n.label){case 0:t=0,e=this.attributes,n.label=1;case 1:return t<e.length?[4,e[t].evaluate()]:[3,4];case 2:n.sent(),n.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},e.prototype.mutate=function(t){for(var e=0,n=this.attributes;e<n.length;e++)n[e].mutate(t);this.trigger("mutate",t)},e.prototype.get=function(t){this.element.getAttribute(t)},e.prototype.set=function(t,e){this.element.setAttribute(t,e)},e.prototype.getAttributeClass=function(t){return i(this,void 0,void 0,(function(){return s(this,(function(e){return t.startsWith("vsn-")?(t=this.getAttributeName(t),[2,d.Registry.instance.attributes.get(t)]):[2,null]}))}))},e.prototype.getAttributeName=function(t){if((t=t.split("|")[0]).indexOf(":")>-1){var e=t.split(":");t=e[0]}return t},e.prototype.getAttributeBinding=function(t){return(t=t.split("|")[0]).indexOf(":")>-1?t.split(":")[1]:null},e.prototype.getAttributeModifiers=function(t){return t.split("|").splice(1)},Object.defineProperty(e.prototype,"isInput",{get:function(){return this.inputTags.indexOf(this.element.tagName.toLowerCase())>-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.isInput?this.element.value:this.element.textContent},set:function(t){this.isInput?(this.element.setAttribute("value",t),this.element.value=t):this.element.innerText=t},enumerable:!1,configurable:!0}),e.prototype.addChild=function(t){this._children.push(t)},Object.defineProperty(e.prototype,"children",{get:function(){return a([],this._children)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentTag",{get:function(){return this._parentTag},set:function(t){this.element!==document.body&&(this._parentTag=t,t.addChild(this),this.scope!==t.scope&&(this.scope.parentScope=t.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scope",{get:function(){return this._scope?this._scope:this._parentTag?this._parentTag.scope:null},set:function(t){this._scope=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"controller",{get:function(){return this._controller},set:function(t){this._controller=t},enumerable:!1,configurable:!0}),e.prototype.wrap=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=!0),p.VisionHelper.isConstructor(t)&&(t=new t),this.scope.wrap(t,e,n),t.$scope=this.scope,t.$tag=this,t.$el=this.element,t},e.prototype.unwrap=function(){this.scope.unwrap()},e.prototype.removeFromDOM=function(){this.element.remove()},e.prototype.addToParentElement=function(){this._parentTag.element.appendChild(this.element)},e.prototype.hide=function(){this.element.hidden=!0},e.prototype.show=function(){this.element.hidden=!1},e.prototype.findAncestorByAttribute=function(t){return this.hasAttribute(t)?this:this.parentTag?this.parentTag.findAncestorByAttribute(t):null},e.prototype.hasAttribute=function(t){return!!this.parsedAttributes[t]},e.prototype.getAttribute=function(t){return i(this,void 0,void 0,(function(){var e,n,r,o;return s(this,(function(i){switch(i.label){case 0:return[4,d.Registry.instance.attributes.get(t)];case 1:if(!(e=i.sent()))return[2];for(n=0,r=this.attributes;n<r.length;n++)if((o=r[n])instanceof e)return[2,o];return[2]}}))}))},e.prototype.getRawAttributeValue=function(t,e){return void 0===e&&(e=null),this.rawAttributes[t]&&this.rawAttributes[t]||e},e.prototype.getParsedAttributeValue=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=null),this.parsedAttributes[t]&&this.parsedAttributes[t][e]||n},e.prototype.buildAttributes=function(){return i(this,void 0,void 0,(function(){var t,e,n,r,o,i,a,l;return s(this,(function(s){switch(s.label){case 0:for(r in t=!1,this.attributes.length=0,e=p.VisionHelper.isMobile(),n=[],this.rawAttributes)n.push(r);o=0,s.label=1;case 1:return o<n.length?(i=n[o],this.hasModifier(i,"mobile")&&!e||this.hasModifier(i,"desktop")&&e?[3,3]:[4,this.getAttributeClass(i)]):[3,4];case 2:(a=s.sent())&&(a.scoped&&(t=!0),l=new a(this,i),this.attributes.push(l)),s.label=3;case 3:return o++,[3,1];case 4:return this.element.getAttribute("id")&&(t=!0),t&&!this.uniqueScope&&(this._uniqueScope=!0,this._scope=new c.Scope),this._state=u.AttributesBuilt,[2]}}))}))},e.prototype.compileAttributes=function(){return i(this,void 0,void 0,(function(){var t,e;return s(this,(function(n){switch(n.label){case 0:t=0,e=this.attributes,n.label=1;case 1:return t<e.length?[4,e[t].compile()]:[3,4];case 2:n.sent(),n.label=3;case 3:return t++,[3,1];case 4:return this._state=u.AttributesCompiled,[2]}}))}))},e.prototype.setupAttributes=function(){return i(this,void 0,void 0,(function(){var t,e;return s(this,(function(n){switch(n.label){case 0:p.VisionHelper.doBenchmark&&y.benchmarkStart("Tag.setupAttributes"),t=0,e=this.attributes,n.label=1;case 1:return t<e.length?[4,e[t].setup()]:[3,4];case 2:n.sent(),n.label=3;case 3:return t++,[3,1];case 4:return p.VisionHelper.doBenchmark&&y.benchmarkEnd("Tag.setupAttributes","Attribute.setup"),this.dom.registerElementInRoot(this),p.VisionHelper.doBenchmark&&y.benchmarkEnd("Tag.setupAttributes","register"),this._state=u.AttributesSetup,this.callOnWrapped("$setup"),p.VisionHelper.doBenchmark&&y.benchmarkEnd("Tag.setupAttributes","$setup"),[2]}}))}))},e.prototype.extractAttributes=function(){return i(this,void 0,void 0,(function(){var t,e;return s(this,(function(n){switch(n.label){case 0:t=0,e=this.attributes,n.label=1;case 1:return t<e.length?[4,e[t].extract()]:[3,4];case 2:n.sent(),n.label=3;case 3:return t++,[3,1];case 4:return this._state=u.AttributesExtracted,this.callOnWrapped("$extracted"),[2]}}))}))},e.prototype.connectAttributes=function(){return i(this,void 0,void 0,(function(){var t,e;return s(this,(function(n){switch(n.label){case 0:this.isInput&&this.addEventHandler("input",[],this.inputMutation.bind(this)),t=0,e=this.attributes,n.label=1;case 1:return t<e.length?[4,e[t].connect()]:[3,4];case 2:n.sent(),n.label=3;case 3:return t++,[3,1];case 4:return this._state=u.AttributesConnected,this.callOnWrapped("$bound"),[2]}}))}))},e.prototype.inputMutation=function(t){this.element.setAttribute("value",t.target.value)},e.prototype.finalize=function(){this._state=u.Built,this.callOnWrapped("$built",this,this.scope,this.element)},e.prototype.callOnWrapped=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return!!(this._uniqueScope&&this.scope&&this.scope.wrapped&&this.scope.wrapped[t])&&((e=this.scope.wrapped)[t].apply(e,n),!0)},e.prototype.handleEvent=function(t,e){if(e&&e.stopPropagation(),this.onEventHandlers[t]){this.scope.set("$event",e),this.scope.set("$value",this.value);for(var n=0,r=this.onEventHandlers[t];n<r.length;n++)(0,r[n])(e)}},e.prototype.hasModifier=function(t,e){return t.indexOf("|"+e)>-1},e.prototype.stripModifier=function(t,e){return t.replace("|"+e,"")},e.prototype.addEventHandler=function(t,e,n){var r=null;if(e.indexOf("active")>-1?r=!1:e.indexOf("passive")>-1&&(r=!0),!this.onEventHandlers[t]){this.onEventHandlers[t]=[];var o=h.On.WindowEvents.indexOf(t)>-1&&window?window:this.element,i={};(t.indexOf("touch")>-1||null!==r)&&(i.passive=null===r||r),o.addEventListener(t,this.handleEvent.bind(this,t),i)}this.onEventHandlers[t].push(n)},e.prototype.watchAttribute=function(t){return i(this,void 0,void 0,(function(){var e,n,r,o;return s(this,(function(i){switch(i.label){case 0:for(e=0,n=this.attributes;e<n.length;e++)if((r=n[e])instanceof f.StandardAttribute&&r.attributeName==t)return[2,r];return this.uniqueScope||(this._uniqueScope=!0,this._scope=new c.Scope,this.parentTag&&(this.scope.parentScope=this.parentTag.scope)),o=new f.StandardAttribute(this,t),this.attributes.push(o),[4,o.compile()];case 1:return i.sent(),[4,o.setup()];case 2:return i.sent(),[4,o.extract()];case 3:return i.sent(),[4,o.connect()];case 4:return i.sent(),[2,o]}}))}))},e}(l.EventDispatcher);e.Tag=b},1008:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.TagList=void 0;var i=n(4264),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(Array);e.TagList=s,i.VisionHelper.inDevelopment&&i.VisionHelper.window&&(window.TagList=s)},3398:function(t,e,n){var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.Types=void 0;var o=n(1371),i=function(){function t(){}return t.string=function(t){return t},t.integer=function(t){return parseInt(t)},t.float=function(t){return t=(""+t).replace(/[^0-9.]+/,""),parseFloat(t)},t.boolean=function(t){return-1===[0,"0","false",""].indexOf(t)},t.date=function(t){return new Date(Date.parse(t))},r([o.Registry.type("string")],t,"string",null),r([o.Registry.type("integer")],t,"integer",null),r([o.Registry.type("float")],t,"float",null),r([o.Registry.type("boolean")],t,"boolean",null),r([o.Registry.type("date")],t,"date",null),t}();e.Types=i},8943:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.vision=e.Vision=void 0;var a=n(9033),u=n(8294),c=n(4843),l=n(6586),p=n(1371);n(3398),n(6846),n(2132);var f=n(6417),h=n(4264),d=n(7754),y=n(7677),b=function(t){function e(){var n=t.call(this)||this;return n.registry=p.Registry.instance,n.config=f.Configuration.instance,h.VisionHelper.document?document.addEventListener("DOMContentLoaded",n.setup.bind(n)):console.warn("No dom, running in CLI mode."),n.registry.classes.register("Object",Object),n.registry.classes.register("WrappedArray",c.WrappedArray),n.registry.classes.register("DataModel",l.DataModel),h.VisionHelper.window&&(window.Vision=e,window.vision=window.vsn=n,window.Tree=d.Tree,window.$=y.Query,h.VisionHelper.window.dispatchEvent(new Event("vsn"))),n}return o(e,t),Object.defineProperty(e.prototype,"dom",{get:function(){return this._dom},enumerable:!1,configurable:!0}),e.prototype.eval=function(t){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this._dom.eval(t)];case 1:return[2,e.sent()]}}))}))},e.prototype.setup=function(){return i(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return document.body.setAttribute("vsn-root",""),this._dom=a.DOM.instance,t=(new Date).getTime(),[4,this._dom.buildFrom(document,!0)];case 1:return e.sent(),console.warn("Took "+((new Date).getTime()-t)+"ms to start up VisionJS"),[2]}}))}))},Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),e}(u.EventDispatcher);e.Vision=b,e.vision=b.instance},8041:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.AddClassIf=void 0;var u=n(523),c=n(1371),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onChange=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.tree.evaluate(this.tag.scope,this.tag.dom)];case 1:return t.sent()?this.tag.element.classList.add(this.getAttributeBinding()):this.tag.element.classList.remove(this.getAttributeBinding()),[2]}}))}))},i([c.Registry.attribute("vsn-add-class-if")],e)}(u.If);e.AddClassIf=l},8171:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Bind=void 0;var u=n(5092),c=n(7754),l=n(1371),p=n(44),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.direction="both",e.formatter=function(t){return t},e}return o(e,t),e.prototype.compile=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,new c.Tree(this.getAttributeValue()).prepare(this.tag.scope,this.tag.dom)];case 1:return t.sent(),[2]}}))}))},e.prototype.setup=function(){return s(this,void 0,void 0,(function(){var t;return a(this,(function(e){return this.property=this.getAttributeBinding(),(t=this.getAttributeModifiers()).length&&(t.indexOf("from")>-1?this.direction="from":t.indexOf("to")>-1&&(this.direction="to")),[2]}))}))},e.prototype.extract=function(){return s(this,void 0,void 0,(function(){var t,e;return a(this,(function(n){t=this.getAttributeValue();try{e=this.tag.scope.getReference(t)}catch(t){return console.error("error",t),[2]}return this.key=e.key,this.boundScope=e.scope,this.valueFromElement&&this.updateFrom(),[2]}))}))},e.prototype.connect=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){return this.doUpdateTo&&(this.updateTo(),this.boundScope.bind("change:"+this.key,this.updateTo,this)),[2]}))}))},e.prototype.evaluate=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){return this.valueFromElement&&this.updateFrom(),this.updateTo(),[2]}))}))},Object.defineProperty(e.prototype,"value",{get:function(){return this.boundScope?this.boundScope.get(this.key,!1):null},set:function(t){this.boundScope&&this.boundScope.set(this.key,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"valueFromElement",{get:function(){return this.property?this.tag.element.getAttribute(this.property):this.tag.value},enumerable:!1,configurable:!0}),e.prototype.mutate=function(e){t.prototype.mutate.call(this,e),this.doUpdateFrom&&(!this.property&&["characterData","childList"].indexOf(e.type)>-1?this.updateFrom():this.property||"attributes"!=e.type||"value"!==e.attributeName?"attributes"===e.type&&e.attributeName==this.property&&this.updateFrom():this.updateFrom())},Object.defineProperty(e.prototype,"doUpdateFrom",{get:function(){return["both","to"].indexOf(this.direction)>-1},enumerable:!1,configurable:!0}),e.prototype.updateFrom=function(){if(this.doUpdateFrom){var t=this.valueFromElement;t="string"==typeof t&&t.trim()||t;var e=this.value;e="string"==typeof e&&e.trim()||e,(e=this.formatter(e))&&t==e||(this.value=t)}},Object.defineProperty(e.prototype,"doUpdateTo",{get:function(){return["both","from"].indexOf(this.direction)>-1},enumerable:!1,configurable:!0}),e.prototype.updateTo=function(){if(this.doUpdateTo){var t=this.formatter(this.value);this.property?this.tag.element.setAttribute(this.property,t):this.tag.value=t}},e.prototype.setFormatter=function(t){this.formatter=t},i([p.benchmark("Attribute",["Bind","compile"])],e.prototype,"compile",null),i([p.benchmark("attributeSetup","Bind")],e.prototype,"setup",null),i([l.Registry.attribute("vsn-bind")],e)}(u.Attribute);e.Bind=f},3444:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.ClassConstructor=void 0;var u=n(5092),c=n(1371),l=n(44),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.setup=function(){return s(this,void 0,void 0,(function(){var t,e;return a(this,(function(n){switch(n.label){case 0:return(t=this.tag.parentTag.scope)?(this.attributeKey=this.getAttributeBinding(),this.className=this.getAttributeValue(),[4,c.Registry.instance.classes.get(this.className)]):[2];case 1:return e=n.sent(),this.instantiateClass(e),this.attributeKey&&t&&t.set(this.attributeKey,this.tag.scope),[2]}}))}))},e.prototype.instantiateClass=function(t){this.tag.wrap(t)},e.scoped=!0,i([l.benchmark("attributeSetup","ClassConstructor")],e.prototype,"setup",null),i([c.Registry.attribute("vsn-controller")],e)}(u.Attribute);e.ClassConstructor=p},9281:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.ClickRemoveClass=void 0;var u=n(5092),c=n(1371),l=n(44),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cssClass="",e.target=null,e}return o(e,t),e.prototype.setup=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){return this.cssClass=this.getAttributeBinding("active"),this.target=this.getAttributeValue(),[2]}))}))},e.prototype.connect=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){return this.tag.addEventHandler("click",this.getAttributeModifiers(),this.onClick.bind(this)),[2]}))}))},e.prototype.onClick=function(t){var e=this.tag.element;this.target&&(e=document.getElementById(this.target)),e&&e.classList.remove(this.cssClass)},i([l.benchmark("attributeSetup","ClickRemoveClass")],e.prototype,"setup",null),i([c.Registry.attribute("vsn-click-remove-class")],e)}(u.Attribute);e.ClickRemoveClass=p},2573:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.ClickToggleClass=void 0;var u=n(5092),c=n(1371),l=n(44),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cssClass="",e.target=null,e}return o(e,t),e.prototype.setup=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){return this.cssClass=this.getAttributeBinding("active"),this.target=this.getAttributeValue(),[2]}))}))},e.prototype.connect=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){return this.tag.addEventHandler("click",this.getAttributeModifiers(),this.onClick.bind(this)),[2]}))}))},e.prototype.onClick=function(t){var e=this.tag.element;this.target&&(e=document.getElementById(this.target)),e&&e.classList.toggle(this.cssClass)},i([l.benchmark("attributeSetup","ClickToggleClass")],e.prototype,"setup",null),i([c.Registry.attribute("vsn-click-toggle-class")],e)}(u.Attribute);e.ClickToggleClass=p},3650:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ControllerAttribute=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(n(3444).ClassConstructor);e.ControllerAttribute=i},4893:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.DisableIf=void 0;var u=n(523),c=n(1371),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onChange=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.tree.evaluate(this.tag.scope,this.tag.dom)];case 1:return t.sent()?this.tag.element.setAttribute("disabled","disabled"):this.tag.element.removeAttribute("disabled"),[2]}}))}))},i([c.Registry.attribute("vsn-disable-if")],e)}(u.If);e.DisableIf=l},6813:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Exec=void 0;var u=n(5092),c=n(7754),l=n(1371),p=n(44),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.compile=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return this.tree=new c.Tree(this.getAttributeValue()),[4,this.tree.prepare(this.tag.scope,this.tag.dom)];case 1:return t.sent(),[2]}}))}))},e.prototype.extract=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.tree.evaluate(this.tag.scope,this.tag.dom)];case 1:return t.sent(),[2]}}))}))},i([p.benchmark("DOM",["attribute","exec","compile"])],e.prototype,"compile",null),i([l.Registry.attribute("vsn-exec")],e)}(u.Attribute);e.Exec=f},8289:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Format=void 0;var u=n(5092),c=n(1371),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.extract=function(){return s(this,void 0,void 0,(function(){var t,e,n,r;return a(this,(function(o){switch(o.label){case 0:return t=this.getAttributeValue(null),e=this.getAttributeBinding(null),[4,c.Registry.instance.formats.get(t)];case 1:return n=o.sent(),r=e?"vsn-bind:"+e:"vsn-bind",[4,this.tag.getAttribute(r)];case 2:return o.sent().setFormatter(n),[2]}}))}))},i([c.Registry.attribute("vsn-format")],e)}(u.Attribute);e.Format=l},523:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.If=void 0;var u=n(5092),c=n(7754),l=n(1371),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.compile=function(){return s(this,void 0,void 0,(function(){var t;return a(this,(function(e){switch(e.label){case 0:return t=this.getAttributeValue(),this.tree=new c.Tree(t),[4,this.tree.prepare(this.tag.scope,this.tag.dom)];case 1:return e.sent(),[2]}}))}))},e.prototype.extract=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.evaluate()];case 1:return t.sent(),[2]}}))}))},e.prototype.connect=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.tree.bindToScopeChanges(this.tag.scope,this.onChange.bind(this))];case 1:return t.sent(),[2]}}))}))},e.prototype.evaluate=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.onChange()];case 1:return t.sent(),[2]}}))}))},e.prototype.onChange=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.tree.evaluate(this.tag.scope,this.tag.dom)];case 1:return t.sent()?this.tag.show():this.tag.hide(),[2]}}))}))},i([l.Registry.attribute("vsn-if")],e)}(u.Attribute);e.If=p},9215:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.KeyAbstract=void 0;var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.specificKey=null,e}return o(e,t),e.prototype.compile=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,t.prototype.compile.call(this)];case 1:return e.sent(),this.specificKey=this.getAttributeBinding(),[2]}}))}))},e.prototype.connect=function(){return i(this,void 0,void 0,(function(){return s(this,(function(t){return this.tag.addEventHandler("keydown",this.getAttributeModifiers(),this.handleEvent.bind(this)),[2]}))}))},e.prototype.handleEvent=function(e){return i(this,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return n=!1,-1===[void 0,null,""].indexOf(this.specificKey)&&e.key.toLowerCase()!==this.specificKey&&e.code.toLowerCase()!==this.specificKey||(n=!0),n?[4,t.prototype.handleEvent.call(this,e)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e}(n(8447).On);e.KeyAbstract=a},9459:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.KeyDown=void 0;var u=n(9215),c=n(1371),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.connect=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){return this.tag.addEventHandler("keydown",this.getAttributeModifiers(),this.handleEvent.bind(this)),[2]}))}))},i([c.Registry.attribute("vsn-key-down")],e)}(u.KeyAbstract);e.KeyDown=l},7459:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.KeyUp=void 0;var u=n(9215),c=n(1371),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.connect=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){return this.tag.addEventHandler("keyup",this.getAttributeModifiers(),this.handleEvent.bind(this)),[2]}))}))},i([c.Registry.attribute("vsn-key-up")],e)}(u.KeyAbstract);e.KeyUp=l},2496:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.List=void 0;var u=n(5092),c=n(4843),l=n(7754),p=n(2712),f=n(1371),h=n(44),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.compile=function(){return s(this,void 0,void 0,(function(){var t;return a(this,(function(e){switch(e.label){case 0:return t=this.getAttributeBinding(),this.tree=new l.Tree(t),[4,this.tree.prepare(this.tag.scope,this.tag.dom)];case 1:return e.sent(),[2]}}))}))},e.prototype.setup=function(){return s(this,void 0,void 0,(function(){var t;return a(this,(function(e){return this.tag.element.children.length>0&&((t=this.tag.element.children[0]).hasAttribute("vsn-template")?(t.removeAttribute("vsn-template"),this.tag.element.removeChild(t),this.template=t):this.template=t.cloneNode(!0)),[2]}))}))},e.prototype.extract=function(){return s(this,void 0,void 0,(function(){var t;return a(this,(function(e){switch(e.label){case 0:return[4,this.tree.evaluate(this.tag.scope,this.tag.dom)];case 1:return t=e.sent(),[4,this.addExistingItems(t)];case 2:return e.sent(),[2]}}))}))},e.prototype.addExistingItems=function(t){return s(this,void 0,void 0,(function(){var e,n,r,o,i,s,u,l=this;return a(this,(function(a){switch(a.label){case 0:if(this.items=t||new c.WrappedArray,this.tags=[],!t)return[3,4];e=0,n=t,a.label=1;case 1:return e<n.length?(r=n[e],[4,this.add(r)]):[3,4];case 2:a.sent(),a.label=3;case 3:return e++,[3,1];case 4:o=0,i=Array.from(this.tag.element.querySelectorAll("*")),a.label=5;case 5:return o<i.length?(s=i[o],p.ElementHelper.hasVisionAttribute(s,"vsn-list-item")?[4,this.tag.dom.getTagForElement(s)]:[3,7]):[3,8];case 6:(u=a.sent())&&(this.tags.push(u),this.items.push(u.scope.wrapped||u.scope)),a.label=7;case 7:return o++,[3,5];case 8:return this.items instanceof c.WrappedArray||(this.items=new c.WrappedArray(this.items)),this.items.bind("add",(function(t){l.add(t)})),this.items.bind("remove",(function(t){l.remove(t)})),this.tag.scope.set("add",this.add.bind(this)),this.tag.scope.set("remove",this.remove.bind(this)),[2]}}))}))},Object.defineProperty(e.prototype,"listItemName",{get:function(){return this.tag.getRawAttributeValue("vsn-list-item-name","item")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"listItemModel",{get:function(){return this.tag.getRawAttributeValue("vsn-list-item-model","Object")},enumerable:!1,configurable:!0}),e.prototype.remove=function(t){for(var e=0;e<this.tags.length;e++){var n=this.tags[e],r=n.scope.get(this.listItemName);if([r,r.wrapped].indexOf(t)>-1)return n.removeFromDOM(),void this.tags.splice(e,1)}},e.prototype.add=function(t){return s(this,void 0,void 0,(function(){var e,n;return a(this,(function(r){switch(r.label){case 0:return e=this.template.cloneNode(!0),this.tag.element.appendChild(e),[4,this.tag.dom.buildFrom(this.tag.element)];case 1:return r.sent(),[4,this.tag.dom.getTagForElement(e)];case 2:return n=r.sent(),this.tags.push(n),n.scope.clear(),t&&(n.unwrap(),n.wrap(t)),this.tag.trigger("add",t),[2]}}))}))},e.scoped=!0,i([h.benchmark("attributeSetup","List")],e.prototype,"setup",null),i([f.Registry.attribute("vsn-list")],e)}(u.Attribute);e.List=d},987:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.ListItem=void 0;var u=n(5092),c=n(1371),l=n(44),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return o(e,t),n=e,Object.defineProperty(e.prototype,"list",{get:function(){return this._list},enumerable:!1,configurable:!0}),e.prototype.setup=function(){return s(this,void 0,void 0,(function(){var t,e;return a(this,(function(r){switch(r.label){case 0:if(this._list=this.tag.findAncestorByAttribute("vsn-list"),!this._list)throw Error(n.ERROR_NO_PARENT);return this.tag.scope.set(this.listItemName,this.tag.scope),[4,this.getList()];case 1:return t=r.sent().listItemModel,[4,c.Registry.instance.classes.get(t)];case 2:return e=r.sent(),this.instantiateModel(e),[2]}}))}))},Object.defineProperty(e.prototype,"listItemName",{get:function(){return this.getAttributeBinding("item")},enumerable:!1,configurable:!0}),e.prototype.getList=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this._list.getAttribute("vsn-list")];case 1:return[2,t.sent()]}}))}))},e.prototype.configure=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){return[2]}))}))},e.prototype.instantiateModel=function(t){this.tag.wrap(t,!1,!0)},e.scoped=!0,e.ERROR_NO_PARENT="Cannot find list parent.",i([l.benchmark("attributeSetup","ListItem")],e.prototype,"setup",null),n=i([c.Registry.attribute("vsn-list-item")],e)}(u.Attribute);e.ListItem=p},274:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.ListItemModel=void 0;var s=n(1371),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),i([s.Registry.attribute("vsn-list-item-model")],e)}(n(5092).Attribute);e.ListItemModel=a},3329:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ModelAttribute=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(n(3444).ClassConstructor);e.ModelAttribute=i},1576:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Name=void 0;var u=n(5092),c=n(1371),l=n(44),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.setup=function(){return s(this,void 0,void 0,(function(){var t;return a(this,(function(e){return(t=this.tag.scope.parentScope)&&t.set(this.tag.parsedAttributes["vsn-name"][1],this.tag.scope),[2]}))}))},e.scoped=!0,i([l.benchmark("attributeSetup","Name")],e.prototype,"setup",null),i([c.Registry.attribute("vsn-name")],e)}(u.Attribute);e.Name=p},8447:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.On=void 0;var u=n(5092),c=n(7754),l=n(1371),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.compile=function(){return s(this,void 0,void 0,(function(){var t;return a(this,(function(e){switch(e.label){case 0:return t=this.getAttributeValue(),this.handler=new c.Tree(t),[4,this.handler.prepare(this.tag.scope,this.tag.dom)];case 1:return e.sent(),[2]}}))}))},e.prototype.handleEvent=function(t){return s(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.handler.evaluate(this.tag.scope,this.tag.dom)];case 1:return t.sent(),[2]}}))}))},e.prototype.connect=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){return this.tag.addEventHandler(this.getAttributeBinding(),this.getAttributeModifiers(),this.handleEvent.bind(this)),[2]}))}))},e.WindowEvents=["abort","afterprint","beforeprint","error","hashchange","load","popstate","resize","unload"],i([l.Registry.attribute("vsn-on")],e)}(u.Attribute);e.On=p},6338:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.Referenced=void 0;var s=n(1371),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),i([s.Registry.attribute("vsn-ref")],e)}(n(5092).Attribute);e.Referenced=a},6957:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.RootAttribute=void 0;var u=n(5092),c=n(4264),l=n(1371),p=n(44),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.setup=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){return this.tag.scope.set("$mobile",c.VisionHelper.isMobile()),[2]}))}))},e.scoped=!0,i([p.benchmark("attributeSetup","RootAttribute")],e.prototype,"setup",null),i([l.Registry.attribute("vsn-root")],e)}(u.Attribute);e.RootAttribute=f},5930:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.ScopeAttribute=void 0;var s=n(5092),a=n(1371),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.scoped=!0,i([a.Registry.attribute("vsn-scope")],e)}(s.Attribute);e.ScopeAttribute=u},1085:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.ScopeChange=void 0;var u=n(5092),c=n(7754),l=n(1371),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.compile=function(){return s(this,void 0,void 0,(function(){var t;return a(this,(function(e){switch(e.label){case 0:return t=this.getAttributeValue(),this.handler=new c.Tree(t),[4,this.handler.prepare(this.tag.scope,this.tag.dom)];case 1:return e.sent(),[2]}}))}))},e.prototype.connect=function(){return s(this,void 0,void 0,(function(){var t,e;return a(this,(function(n){return t=this.getAttributeBinding(),(e=this.tag.scope.getReference(t,!1)).scope.bind("change:"+e.key,this.handleEvent.bind(this)),[2]}))}))},e.prototype.handleEvent=function(t){return s(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.handler.evaluate(this.tag.scope,this.tag.dom)];case 1:return t.sent(),[2]}}))}))},i([l.Registry.attribute("vsn-scope-change")],e)}(u.Attribute);e.ScopeChange=p},3070:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.SetAttribute=void 0;var u=n(5092),c=n(1371),l=n(44),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.boundScope?this.boundScope.get(this.key,!1):null},set:function(t){this.boundScope&&this.boundScope.set(this.key,t)},enumerable:!1,configurable:!0}),e.prototype.setup=function(){return s(this,void 0,void 0,(function(){var t;return a(this,(function(e){this.property=this.getAttributeBinding();try{t=this.tag.scope.getReference(this.property)}catch(t){return[2]}return this.key=t.key,this.boundScope=t.scope,[2]}))}))},e.prototype.extract=function(){return s(this,void 0,void 0,(function(){var t,e;return a(this,(function(n){return t=this.getAttributeValue(null),(e=t&&t.indexOf("|")||-1)>-1&&(this.boundScope.setType(this.key,t.substr(e+1)),t=t.substr(0,e)),this.boundScope.set(this.key,t),[2]}))}))},i([l.benchmark("attributeSetup","SetAttribute")],e.prototype,"setup",null),i([c.Registry.attribute("vsn-set")],e)}(u.Attribute);e.SetAttribute=p},6032:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.StandardAttribute=void 0;var u=n(5092),c=n(44),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.setup=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){return-1!==e.magicAttributes.indexOf(this.key)||this.tag.element.hasAttribute(this.attributeName)||this.tag.element.setAttribute(this.attributeName,""),[2]}))}))},e.prototype.extract=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){return this.updateFrom(),[2]}))}))},e.prototype.connect=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){return this.tag.scope.bind("change:"+this.key,this.updateTo.bind(this)),[2]}))}))},e.prototype.mutate=function(e){t.prototype.mutate.call(this,e),this.updateFrom()},Object.defineProperty(e.prototype,"needsToBeSynced",{get:function(){var t=this.tag.scope.get(this.key)||"",e=this.value;return t&&t.trim&&(t=t.trim()),e&&e.trim&&(e=e.trim()),t instanceof Array?!(e instanceof Array&&t.length===e.length)||t.map((function(t){return e.indexOf(t)>-1})).indexOf(!1)>-1:t!==e},enumerable:!1,configurable:!0}),e.prototype.updateTo=function(){this.needsToBeSynced&&(this.value=this.tag.scope.get("@"+this.attributeName))},e.prototype.updateFrom=function(){this.needsToBeSynced&&this.tag.scope.set(this.key,this.value)},Object.defineProperty(e.prototype,"key",{get:function(){return"@"+this.attributeName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return"@text"===this.key?this.tag.element.innerText:"@html"===this.key?this.tag.element.innerHTML:"@value"===this.key?this.tag.value:"@class"===this.key?Array.from(this.tag.element.classList):this.tag.element.getAttribute(this.attributeName)},set:function(t){var e,n;if("@text"===this.key)this.tag.element.innerText=t;else if("@html"===this.key)this.tag.element.innerHTML=t;else if("@value"===this.key)this.tag.value=t;else if("@class"===this.key&&t){(e=this.tag.element.classList).remove.apply(e,Array.from(this.tag.element.classList));var r=t instanceof Array?t:[t];r.length&&(n=this.tag.element.classList).add.apply(n,r)}else this.tag.element.setAttribute(this.attributeName,t)},enumerable:!1,configurable:!0}),e.magicAttributes=["@text","@html","@class","@value"],i([c.benchmark("attributeSetup","StandardAttribute")],e.prototype,"setup",null),e}(u.Attribute);e.StandardAttribute=l},1514:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.Template=void 0;var s=n(1371),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),i([s.Registry.attribute("vsn-template")],e)}(n(5092).Attribute);e.Template=a},8696:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.TypeAttribute=void 0;var u=n(5092),c=n(1371),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.extract=function(){return s(this,void 0,void 0,(function(){var t,e,n;return a(this,(function(r){t=this.getAttributeBinding(),e=this.getAttributeValue();try{n=this.tag.scope.getReference(t)}catch(t){return console.error("error",t),[2]}return n.scope.setType(n.key,e),[2]}))}))},i([c.Registry.attribute("vsn-type")],e)}(u.Attribute);e.TypeAttribute=l},2132:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),n(8041),n(8171),n(9281),n(2573),n(3650),n(4893),n(6813),n(8289),n(523),n(9459),n(7459),n(2496),n(987),n(274),n(3329),n(1576),n(8447),n(6338),n(6957),n(5930),n(1085),n(3070),n(6032),n(1514),n(8696)},2712:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ElementHelper=void 0;var n=function(){function t(){}return t.hasVisionAttribute=function(t,e){if(void 0===e&&(e="vsn-"),!t.attributes||t.attributes.length<=0)return!1;for(var n=0;n<t.attributes.length;n++)if(t.attributes[n].name.startsWith(e))return!0;return!1},t.normalizeElementID=function(t){return t?t.replace(/-([a-zA-Z0-9])/g,(function(t){return t[1].toUpperCase()})):null},t}();e.ElementHelper=n},4264:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VisionHelper=void 0;var n=function(){function t(){}return t.isConstructor=function(t){return t&&t.hasOwnProperty("prototype")&&!!t.prototype&&!!t.prototype.constructor&&!!t.prototype.constructor.name},Object.defineProperty(t,"document",{get:function(){return"object"==typeof document?document:null},enumerable:!1,configurable:!0}),Object.defineProperty(t,"window",{get:function(){return"object"==typeof window?window:null},enumerable:!1,configurable:!0}),t.isMobile=function(){var e,n=!1;return navigator&&t.window&&(e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(n=!0)),n},Object.defineProperty(t,"inDevelopment",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t,"doBenchmark",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t,"inLegacy",{get:function(){return"es5"===process.env.BUILD_TARGET},enumerable:!1,configurable:!0}),t}();e.VisionHelper=n}},e={};!function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}(8943)})();